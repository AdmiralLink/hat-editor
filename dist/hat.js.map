{"version":3,"file":"hat.js","sources":["../src/js/lib/_Sortable.js","../src/js/lib/_DomEl.js","../src/js/modules/_hat.js","../src/js/modules/_block.js","../src/js/modules/_block_paragraph.js","../src/js/hat.js"],"sourcesContent":["/* eslint-disable */\n/**!\n * Sortable 1.10.2\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nexport default Sortable;\n\nlet Sortable = function() {  \n    function _typeof(obj) {\n      if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n        _typeof = function (obj) {\n          return typeof obj;\n        };\n      } else {\n        _typeof = function (obj) {\n          return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n        };\n      }\n  \n      return _typeof(obj);\n    }\n  \n    function _defineProperty(obj, key, value) {\n      if (key in obj) {\n        Object.defineProperty(obj, key, {\n          value: value,\n          enumerable: true,\n          configurable: true,\n          writable: true\n        });\n      } else {\n        obj[key] = value;\n      }\n  \n      return obj;\n    }\n  \n    function _extends() {\n      _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n  \n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n  \n        return target;\n      };\n  \n      return _extends.apply(this, arguments);\n    }\n  \n    function _objectSpread(target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n  \n        if (typeof Object.getOwnPropertySymbols === 'function') {\n          ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n            return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n          }));\n        }\n  \n        ownKeys.forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      }\n  \n      return target;\n    }\n  \n    function _objectWithoutPropertiesLoose(source, excluded) {\n      if (source == null) return {};\n      var target = {};\n      var sourceKeys = Object.keys(source);\n      var key, i;\n  \n      for (i = 0; i < sourceKeys.length; i++) {\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n      }\n  \n      return target;\n    }\n  \n    function _objectWithoutProperties(source, excluded) {\n      if (source == null) return {};\n  \n      var target = _objectWithoutPropertiesLoose(source, excluded);\n  \n      var key, i;\n  \n      if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n  \n        for (i = 0; i < sourceSymbolKeys.length; i++) {\n          key = sourceSymbolKeys[i];\n          if (excluded.indexOf(key) >= 0) continue;\n          if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n          target[key] = source[key];\n        }\n      }\n  \n      return target;\n    }\n  \n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n    }\n  \n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n  \n        return arr2;\n      }\n    }\n  \n    function _iterableToArray(iter) {\n      if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n    }\n  \n    function _nonIterableSpread() {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n    }\n  \n    var version = \"1.10.2\";\n  \n    function userAgent(pattern) {\n      if (typeof window !== 'undefined' && window.navigator) {\n        return !!\n        /*@__PURE__*/\n        navigator.userAgent.match(pattern);\n      }\n    }\n  \n    var IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\n    var Edge = userAgent(/Edge/i);\n    var FireFox = userAgent(/firefox/i);\n    var Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\n    var IOS = userAgent(/iP(ad|od|hone)/i);\n    var ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n  \n    var captureMode = {\n      capture: false,\n      passive: false\n    };\n  \n    function on(el, event, fn) {\n      el.addEventListener(event, fn, !IE11OrLess && captureMode);\n    }\n  \n    function off(el, event, fn) {\n      el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n    }\n  \n    function matches(\n    /**HTMLElement*/\n    el,\n    /**String*/\n    selector) {\n      if (!selector) return;\n      selector[0] === '>' && (selector = selector.substring(1));\n  \n      if (el) {\n        try {\n          if (el.matches) {\n            return el.matches(selector);\n          } else if (el.msMatchesSelector) {\n            return el.msMatchesSelector(selector);\n          } else if (el.webkitMatchesSelector) {\n            return el.webkitMatchesSelector(selector);\n          }\n        } catch (_) {\n          return false;\n        }\n      }\n  \n      return false;\n    }\n  \n    function getParentOrHost(el) {\n      return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n    }\n  \n    function closest(\n    /**HTMLElement*/\n    el,\n    /**String*/\n    selector,\n    /**HTMLElement*/\n    ctx, includeCTX) {\n      if (el) {\n        ctx = ctx || document;\n  \n        do {\n          if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n            return el;\n          }\n  \n          if (el === ctx) break;\n          /* jshint boss:true */\n        } while (el = getParentOrHost(el));\n      }\n  \n      return null;\n    }\n  \n    var R_SPACE = /\\s+/g;\n  \n    function toggleClass(el, name, state) {\n      if (el && name) {\n        if (el.classList) {\n          el.classList[state ? 'add' : 'remove'](name);\n        } else {\n          var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n          el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n        }\n      }\n    }\n  \n    function css(el, prop, val) {\n      var style = el && el.style;\n  \n      if (style) {\n        if (val === void 0) {\n          if (document.defaultView && document.defaultView.getComputedStyle) {\n            val = document.defaultView.getComputedStyle(el, '');\n          } else if (el.currentStyle) {\n            val = el.currentStyle;\n          }\n  \n          return prop === void 0 ? val : val[prop];\n        } else {\n          if (!(prop in style) && prop.indexOf('webkit') === -1) {\n            prop = '-webkit-' + prop;\n          }\n  \n          style[prop] = val + (typeof val === 'string' ? '' : 'px');\n        }\n      }\n    }\n  \n    function matrix(el, selfOnly) {\n      var appliedTransforms = '';\n  \n      if (typeof el === 'string') {\n        appliedTransforms = el;\n      } else {\n        do {\n          var transform = css(el, 'transform');\n  \n          if (transform && transform !== 'none') {\n            appliedTransforms = transform + ' ' + appliedTransforms;\n          }\n          /* jshint boss:true */\n  \n        } while (!selfOnly && (el = el.parentNode));\n      }\n  \n      var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n      /*jshint -W056 */\n  \n      return matrixFn && new matrixFn(appliedTransforms);\n    }\n  \n    function find(ctx, tagName, iterator) {\n      if (ctx) {\n        var list = ctx.getElementsByTagName(tagName),\n            i = 0,\n            n = list.length;\n  \n        if (iterator) {\n          for (; i < n; i++) {\n            iterator(list[i], i);\n          }\n        }\n  \n        return list;\n      }\n  \n      return [];\n    }\n  \n    function getWindowScrollingElement() {\n      var scrollingElement = document.scrollingElement;\n  \n      if (scrollingElement) {\n        return scrollingElement;\n      } else {\n        return document.documentElement;\n      }\n    }\n    /**\n     * Returns the \"bounding client rect\" of given element\n     * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n     * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n     * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n     * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n     * @param  {[HTMLElement]} container              The parent the element will be placed in\n     * @return {Object}                               The boundingClientRect of el, with specified adjustments\n     */\n  \n  \n    function getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n      if (!el.getBoundingClientRect && el !== window) return;\n      var elRect, top, left, bottom, right, height, width;\n  \n      if (el !== window && el !== getWindowScrollingElement()) {\n        elRect = el.getBoundingClientRect();\n        top = elRect.top;\n        left = elRect.left;\n        bottom = elRect.bottom;\n        right = elRect.right;\n        height = elRect.height;\n        width = elRect.width;\n      } else {\n        top = 0;\n        left = 0;\n        bottom = window.innerHeight;\n        right = window.innerWidth;\n        height = window.innerHeight;\n        width = window.innerWidth;\n      }\n  \n      if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n        // Adjust for translate()\n        container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n        // Not needed on <= IE11\n  \n        if (!IE11OrLess) {\n          do {\n            if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n              var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n  \n              top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n              left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n              bottom = top + elRect.height;\n              right = left + elRect.width;\n              break;\n            }\n            /* jshint boss:true */\n  \n          } while (container = container.parentNode);\n        }\n      }\n  \n      if (undoScale && el !== window) {\n        // Adjust for scale()\n        var elMatrix = matrix(container || el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d;\n  \n        if (elMatrix) {\n          top /= scaleY;\n          left /= scaleX;\n          width /= scaleX;\n          height /= scaleY;\n          bottom = top + height;\n          right = left + width;\n        }\n      }\n  \n      return {\n        top: top,\n        left: left,\n        bottom: bottom,\n        right: right,\n        width: width,\n        height: height\n      };\n    }\n    /**\n     * Checks if a side of an element is scrolled past a side of its parents\n     * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n     * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n     * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n     * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n     */\n  \n  \n    function isScrolledPast(el, elSide, parentSide) {\n      var parent = getParentAutoScrollElement(el, true),\n          elSideVal = getRect(el)[elSide];\n      /* jshint boss:true */\n  \n      while (parent) {\n        var parentSideVal = getRect(parent)[parentSide],\n            visible = void 0;\n  \n        if (parentSide === 'top' || parentSide === 'left') {\n          visible = elSideVal >= parentSideVal;\n        } else {\n          visible = elSideVal <= parentSideVal;\n        }\n  \n        if (!visible) return parent;\n        if (parent === getWindowScrollingElement()) break;\n        parent = getParentAutoScrollElement(parent, false);\n      }\n  \n      return false;\n    }\n    /**\n     * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n     * and non-draggable elements\n     * @param  {HTMLElement} el       The parent element\n     * @param  {Number} childNum      The index of the child\n     * @param  {Object} options       Parent Sortable's options\n     * @return {HTMLElement}          The child at index childNum, or null if not found\n     */\n  \n  \n    function getChild(el, childNum, options) {\n      var currentChild = 0,\n          i = 0,\n          children = el.children;\n  \n      while (i < children.length) {\n        if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n          if (currentChild === childNum) {\n            return children[i];\n          }\n  \n          currentChild++;\n        }\n  \n        i++;\n      }\n  \n      return null;\n    }\n    /**\n     * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n     * @param  {HTMLElement} el       Parent element\n     * @param  {selector} selector    Any other elements that should be ignored\n     * @return {HTMLElement}          The last child, ignoring ghostEl\n     */\n  \n  \n    function lastChild(el, selector) {\n      var last = el.lastElementChild;\n  \n      while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n        last = last.previousElementSibling;\n      }\n  \n      return last || null;\n    }\n    /**\n     * Returns the index of an element within its parent for a selected set of\n     * elements\n     * @param  {HTMLElement} el\n     * @param  {selector} selector\n     * @return {number}\n     */\n  \n  \n    function index(el, selector) {\n      var index = 0;\n  \n      if (!el || !el.parentNode) {\n        return -1;\n      }\n      /* jshint boss:true */\n  \n  \n      while (el = el.previousElementSibling) {\n        if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n          index++;\n        }\n      }\n  \n      return index;\n    }\n    /**\n     * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n     * The value is returned in real pixels.\n     * @param  {HTMLElement} el\n     * @return {Array}             Offsets in the format of [left, top]\n     */\n  \n  \n    function getRelativeScrollOffset(el) {\n      var offsetLeft = 0,\n          offsetTop = 0,\n          winScroller = getWindowScrollingElement();\n  \n      if (el) {\n        do {\n          var elMatrix = matrix(el),\n              scaleX = elMatrix.a,\n              scaleY = elMatrix.d;\n          offsetLeft += el.scrollLeft * scaleX;\n          offsetTop += el.scrollTop * scaleY;\n        } while (el !== winScroller && (el = el.parentNode));\n      }\n  \n      return [offsetLeft, offsetTop];\n    }\n    /**\n     * Returns the index of the object within the given array\n     * @param  {Array} arr   Array that may or may not hold the object\n     * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n     * @return {Number}      The index of the object in the array, or -1\n     */\n  \n  \n    function indexOfObject(arr, obj) {\n      for (var i in arr) {\n        if (!arr.hasOwnProperty(i)) continue;\n  \n        for (var key in obj) {\n          if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n        }\n      }\n  \n      return -1;\n    }\n  \n    function getParentAutoScrollElement(el, includeSelf) {\n      // skip to window\n      if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n      var elem = el;\n      var gotSelf = false;\n  \n      do {\n        // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n        if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n          var elemCSS = css(elem);\n  \n          if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n            if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n            if (gotSelf || includeSelf) return elem;\n            gotSelf = true;\n          }\n        }\n        /* jshint boss:true */\n  \n      } while (elem = elem.parentNode);\n  \n      return getWindowScrollingElement();\n    }\n  \n    function extend(dst, src) {\n      if (dst && src) {\n        for (var key in src) {\n          if (src.hasOwnProperty(key)) {\n            dst[key] = src[key];\n          }\n        }\n      }\n  \n      return dst;\n    }\n  \n    function isRectEqual(rect1, rect2) {\n      return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n    }\n  \n    var _throttleTimeout;\n  \n    function throttle(callback, ms) {\n      return function () {\n        if (!_throttleTimeout) {\n          var args = arguments,\n              _this = this;\n  \n          if (args.length === 1) {\n            callback.call(_this, args[0]);\n          } else {\n            callback.apply(_this, args);\n          }\n  \n          _throttleTimeout = setTimeout(function () {\n            _throttleTimeout = void 0;\n          }, ms);\n        }\n      };\n    }\n  \n    function cancelThrottle() {\n      clearTimeout(_throttleTimeout);\n      _throttleTimeout = void 0;\n    }\n  \n    function scrollBy(el, x, y) {\n      el.scrollLeft += x;\n      el.scrollTop += y;\n    }\n  \n    function clone(el) {\n      var Polymer = window.Polymer;\n      var $ = window.jQuery || window.Zepto;\n  \n      if (Polymer && Polymer.dom) {\n        return Polymer.dom(el).cloneNode(true);\n      } else if ($) {\n        return $(el).clone(true)[0];\n      } else {\n        return el.cloneNode(true);\n      }\n    }\n  \n    function setRect(el, rect) {\n      css(el, 'position', 'absolute');\n      css(el, 'top', rect.top);\n      css(el, 'left', rect.left);\n      css(el, 'width', rect.width);\n      css(el, 'height', rect.height);\n    }\n  \n    function unsetRect(el) {\n      css(el, 'position', '');\n      css(el, 'top', '');\n      css(el, 'left', '');\n      css(el, 'width', '');\n      css(el, 'height', '');\n    }\n  \n    var expando = 'Sortable' + new Date().getTime();\n  \n    function AnimationStateManager() {\n      var animationStates = [],\n          animationCallbackId;\n      return {\n        captureAnimationState: function captureAnimationState() {\n          animationStates = [];\n          if (!this.options.animation) return;\n          var children = [].slice.call(this.el.children);\n          children.forEach(function (child) {\n            if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n            animationStates.push({\n              target: child,\n              rect: getRect(child)\n            });\n  \n            var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n  \n  \n            if (child.thisAnimationDuration) {\n              var childMatrix = matrix(child, true);\n  \n              if (childMatrix) {\n                fromRect.top -= childMatrix.f;\n                fromRect.left -= childMatrix.e;\n              }\n            }\n  \n            child.fromRect = fromRect;\n          });\n        },\n        addAnimationState: function addAnimationState(state) {\n          animationStates.push(state);\n        },\n        removeAnimationState: function removeAnimationState(target) {\n          animationStates.splice(indexOfObject(animationStates, {\n            target: target\n          }), 1);\n        },\n        animateAll: function animateAll(callback) {\n          var _this = this;\n  \n          if (!this.options.animation) {\n            clearTimeout(animationCallbackId);\n            if (typeof callback === 'function') callback();\n            return;\n          }\n  \n          var animating = false,\n              animationTime = 0;\n          animationStates.forEach(function (state) {\n            var time = 0,\n                target = state.target,\n                fromRect = target.fromRect,\n                toRect = getRect(target),\n                prevFromRect = target.prevFromRect,\n                prevToRect = target.prevToRect,\n                animatingRect = state.rect,\n                targetMatrix = matrix(target, true);\n  \n            if (targetMatrix) {\n              // Compensate for current animation\n              toRect.top -= targetMatrix.f;\n              toRect.left -= targetMatrix.e;\n            }\n  \n            target.toRect = toRect;\n  \n            if (target.thisAnimationDuration) {\n              // Could also check if animatingRect is between fromRect and toRect\n              if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n              (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n                // If returning to same place as started from animation and on same axis\n                time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n              }\n            } // if fromRect != toRect: animate\n  \n  \n            if (!isRectEqual(toRect, fromRect)) {\n              target.prevFromRect = fromRect;\n              target.prevToRect = toRect;\n  \n              if (!time) {\n                time = _this.options.animation;\n              }\n  \n              _this.animate(target, animatingRect, toRect, time);\n            }\n  \n            if (time) {\n              animating = true;\n              animationTime = Math.max(animationTime, time);\n              clearTimeout(target.animationResetTimer);\n              target.animationResetTimer = setTimeout(function () {\n                target.animationTime = 0;\n                target.prevFromRect = null;\n                target.fromRect = null;\n                target.prevToRect = null;\n                target.thisAnimationDuration = null;\n              }, time);\n              target.thisAnimationDuration = time;\n            }\n          });\n          clearTimeout(animationCallbackId);\n  \n          if (!animating) {\n            if (typeof callback === 'function') callback();\n          } else {\n            animationCallbackId = setTimeout(function () {\n              if (typeof callback === 'function') callback();\n            }, animationTime);\n          }\n  \n          animationStates = [];\n        },\n        animate: function animate(target, currentRect, toRect, duration) {\n          if (duration) {\n            css(target, 'transition', '');\n            css(target, 'transform', '');\n            var elMatrix = matrix(this.el),\n                scaleX = elMatrix && elMatrix.a,\n                scaleY = elMatrix && elMatrix.d,\n                translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n                translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n            target.animatingX = !!translateX;\n            target.animatingY = !!translateY;\n            css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n            repaint(target); // repaint\n  \n            css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n            css(target, 'transform', 'translate3d(0,0,0)');\n            typeof target.animated === 'number' && clearTimeout(target.animated);\n            target.animated = setTimeout(function () {\n              css(target, 'transition', '');\n              css(target, 'transform', '');\n              target.animated = false;\n              target.animatingX = false;\n              target.animatingY = false;\n            }, duration);\n          }\n        }\n      };\n    }\n  \n    function repaint(target) {\n      return target.offsetWidth;\n    }\n  \n    function calculateRealTime(animatingRect, fromRect, toRect, options) {\n      return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n    }\n  \n    var plugins = [];\n    var defaults = {\n      initializeByDefault: true\n    };\n    var PluginManager = {\n      mount: function mount(plugin) {\n        // Set default static properties\n        for (var option in defaults) {\n          if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n            plugin[option] = defaults[option];\n          }\n        }\n  \n        plugins.push(plugin);\n      },\n      pluginEvent: function pluginEvent(eventName, sortable, evt) {\n        var _this = this;\n  \n        this.eventCanceled = false;\n  \n        evt.cancel = function () {\n          _this.eventCanceled = true;\n        };\n  \n        var eventNameGlobal = eventName + 'Global';\n        plugins.forEach(function (plugin) {\n          if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n  \n          if (sortable[plugin.pluginName][eventNameGlobal]) {\n            sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n              sortable: sortable\n            }, evt));\n          } // Only fire plugin event if plugin is enabled in this sortable,\n          // and plugin has event defined\n  \n  \n          if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n            sortable[plugin.pluginName][eventName](_objectSpread({\n              sortable: sortable\n            }, evt));\n          }\n        });\n      },\n      initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n        plugins.forEach(function (plugin) {\n          var pluginName = plugin.pluginName;\n          if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n          var initialized = new plugin(sortable, el, sortable.options);\n          initialized.sortable = sortable;\n          initialized.options = sortable.options;\n          sortable[pluginName] = initialized; // Add default options from plugin\n  \n          _extends(defaults, initialized.defaults);\n        });\n  \n        for (var option in sortable.options) {\n          if (!sortable.options.hasOwnProperty(option)) continue;\n          var modified = this.modifyOption(sortable, option, sortable.options[option]);\n  \n          if (typeof modified !== 'undefined') {\n            sortable.options[option] = modified;\n          }\n        }\n      },\n      getEventProperties: function getEventProperties(name, sortable) {\n        var eventProperties = {};\n        plugins.forEach(function (plugin) {\n          if (typeof plugin.eventProperties !== 'function') return;\n  \n          _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n        });\n        return eventProperties;\n      },\n      modifyOption: function modifyOption(sortable, name, value) {\n        var modifiedValue;\n        plugins.forEach(function (plugin) {\n          // Plugin must exist on the Sortable\n          if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n  \n          if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n            modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n          }\n        });\n        return modifiedValue;\n      }\n    };\n  \n    function dispatchEvent(_ref) {\n      var sortable = _ref.sortable,\n          rootEl = _ref.rootEl,\n          name = _ref.name,\n          targetEl = _ref.targetEl,\n          cloneEl = _ref.cloneEl,\n          toEl = _ref.toEl,\n          fromEl = _ref.fromEl,\n          oldIndex = _ref.oldIndex,\n          newIndex = _ref.newIndex,\n          oldDraggableIndex = _ref.oldDraggableIndex,\n          newDraggableIndex = _ref.newDraggableIndex,\n          originalEvent = _ref.originalEvent,\n          putSortable = _ref.putSortable,\n          extraEventProperties = _ref.extraEventProperties;\n      sortable = sortable || rootEl && rootEl[expando];\n      if (!sortable) return;\n      var evt,\n          options = sortable.options,\n          onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n  \n      if (window.CustomEvent && !IE11OrLess && !Edge) {\n        evt = new CustomEvent(name, {\n          bubbles: true,\n          cancelable: true\n        });\n      } else {\n        evt = document.createEvent('Event');\n        evt.initEvent(name, true, true);\n      }\n  \n      evt.to = toEl || rootEl;\n      evt.from = fromEl || rootEl;\n      evt.item = targetEl || rootEl;\n      evt.clone = cloneEl;\n      evt.oldIndex = oldIndex;\n      evt.newIndex = newIndex;\n      evt.oldDraggableIndex = oldDraggableIndex;\n      evt.newDraggableIndex = newDraggableIndex;\n      evt.originalEvent = originalEvent;\n      evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n  \n      var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n  \n      for (var option in allEventProperties) {\n        evt[option] = allEventProperties[option];\n      }\n  \n      if (rootEl) {\n        rootEl.dispatchEvent(evt);\n      }\n  \n      if (options[onName]) {\n        options[onName].call(sortable, evt);\n      }\n    }\n  \n    var pluginEvent = function pluginEvent(eventName, sortable) {\n      var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n          originalEvent = _ref.evt,\n          data = _objectWithoutProperties(_ref, [\"evt\"]);\n  \n      PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n        dragEl: dragEl,\n        parentEl: parentEl,\n        ghostEl: ghostEl,\n        rootEl: rootEl,\n        nextEl: nextEl,\n        lastDownEl: lastDownEl,\n        cloneEl: cloneEl,\n        cloneHidden: cloneHidden,\n        dragStarted: moved,\n        putSortable: putSortable,\n        activeSortable: Sortable.active,\n        originalEvent: originalEvent,\n        oldIndex: oldIndex,\n        oldDraggableIndex: oldDraggableIndex,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        hideGhostForTarget: _hideGhostForTarget,\n        unhideGhostForTarget: _unhideGhostForTarget,\n        cloneNowHidden: function cloneNowHidden() {\n          cloneHidden = true;\n        },\n        cloneNowShown: function cloneNowShown() {\n          cloneHidden = false;\n        },\n        dispatchSortableEvent: function dispatchSortableEvent(name) {\n          _dispatchEvent({\n            sortable: sortable,\n            name: name,\n            originalEvent: originalEvent\n          });\n        }\n      }, data));\n    };\n  \n    function _dispatchEvent(info) {\n      dispatchEvent(_objectSpread({\n        putSortable: putSortable,\n        cloneEl: cloneEl,\n        targetEl: dragEl,\n        rootEl: rootEl,\n        oldIndex: oldIndex,\n        oldDraggableIndex: oldDraggableIndex,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex\n      }, info));\n    }\n  \n    var dragEl,\n        parentEl,\n        ghostEl,\n        rootEl,\n        nextEl,\n        lastDownEl,\n        cloneEl,\n        cloneHidden,\n        oldIndex,\n        newIndex,\n        oldDraggableIndex,\n        newDraggableIndex,\n        activeGroup,\n        putSortable,\n        awaitingDragStarted = false,\n        ignoreNextClick = false,\n        sortables = [],\n        tapEvt,\n        touchEvt,\n        lastDx,\n        lastDy,\n        tapDistanceLeft,\n        tapDistanceTop,\n        moved,\n        lastTarget,\n        lastDirection,\n        pastFirstInvertThresh = false,\n        isCircumstantialInvert = false,\n        targetMoveDistance,\n        // For positioning ghost absolutely\n    ghostRelativeParent,\n        ghostRelativeParentInitialScroll = [],\n        // (left, top)\n    _silent = false,\n        savedInputChecked = [];\n    /** @const */\n  \n    var documentExists = typeof document !== 'undefined',\n        PositionGhostAbsolutely = IOS,\n        CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n        // This will not pass for IE9, because IE9 DnD only works on anchors\n    supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n        supportCssPointerEvents = function () {\n      if (!documentExists) return; // false when <= IE11\n  \n      if (IE11OrLess) {\n        return false;\n      }\n  \n      var el = document.createElement('x');\n      el.style.cssText = 'pointer-events:auto';\n      return el.style.pointerEvents === 'auto';\n    }(),\n        _detectDirection = function _detectDirection(el, options) {\n      var elCSS = css(el),\n          elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n          child1 = getChild(el, 0, options),\n          child2 = getChild(el, 1, options),\n          firstChildCSS = child1 && css(child1),\n          secondChildCSS = child2 && css(child2),\n          firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n          secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n  \n      if (elCSS.display === 'flex') {\n        return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n      }\n  \n      if (elCSS.display === 'grid') {\n        return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n      }\n  \n      if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n        var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n        return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n      }\n  \n      return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n    },\n        _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n      var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n          dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n          dragElOppLength = vertical ? dragRect.width : dragRect.height,\n          targetS1Opp = vertical ? targetRect.left : targetRect.top,\n          targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n          targetOppLength = vertical ? targetRect.width : targetRect.height;\n      return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n    },\n  \n    /**\n     * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n     * @param  {Number} x      X position\n     * @param  {Number} y      Y position\n     * @return {HTMLElement}   Element of the first found nearest Sortable\n     */\n    _detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n      var ret;\n      sortables.some(function (sortable) {\n        if (lastChild(sortable)) return;\n        var rect = getRect(sortable),\n            threshold = sortable[expando].options.emptyInsertThreshold,\n            insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n            insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n  \n        if (threshold && insideHorizontally && insideVertically) {\n          return ret = sortable;\n        }\n      });\n      return ret;\n    },\n        _prepareGroup = function _prepareGroup(options) {\n      function toFn(value, pull) {\n        return function (to, from, dragEl, evt) {\n          var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n  \n          if (value == null && (pull || sameGroup)) {\n            // Default pull value\n            // Default pull and put value if same group\n            return true;\n          } else if (value == null || value === false) {\n            return false;\n          } else if (pull && value === 'clone') {\n            return value;\n          } else if (typeof value === 'function') {\n            return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n          } else {\n            var otherGroup = (pull ? to : from).options.group.name;\n            return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n          }\n        };\n      }\n  \n      var group = {};\n      var originalGroup = options.group;\n  \n      if (!originalGroup || _typeof(originalGroup) != 'object') {\n        originalGroup = {\n          name: originalGroup\n        };\n      }\n  \n      group.name = originalGroup.name;\n      group.checkPull = toFn(originalGroup.pull, true);\n      group.checkPut = toFn(originalGroup.put);\n      group.revertClone = originalGroup.revertClone;\n      options.group = group;\n    },\n        _hideGhostForTarget = function _hideGhostForTarget() {\n      if (!supportCssPointerEvents && ghostEl) {\n        css(ghostEl, 'display', 'none');\n      }\n    },\n        _unhideGhostForTarget = function _unhideGhostForTarget() {\n      if (!supportCssPointerEvents && ghostEl) {\n        css(ghostEl, 'display', '');\n      }\n    }; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n  \n  \n    if (documentExists) {\n      document.addEventListener('click', function (evt) {\n        if (ignoreNextClick) {\n          evt.preventDefault();\n          evt.stopPropagation && evt.stopPropagation();\n          evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n          ignoreNextClick = false;\n          return false;\n        }\n      }, true);\n    }\n  \n    var nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n      if (dragEl) {\n        evt = evt.touches ? evt.touches[0] : evt;\n  \n        var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n  \n        if (nearest) {\n          // Create imitation event\n          var event = {};\n  \n          for (var i in evt) {\n            if (evt.hasOwnProperty(i)) {\n              event[i] = evt[i];\n            }\n          }\n  \n          event.target = event.rootEl = nearest;\n          event.preventDefault = void 0;\n          event.stopPropagation = void 0;\n  \n          nearest[expando]._onDragOver(event);\n        }\n      }\n    };\n  \n    var _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n      if (dragEl) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n      }\n    };\n    /**\n     * @class  Sortable\n     * @param  {HTMLElement}  el\n     * @param  {Object}       [options]\n     */\n  \n  \n    function Sortable(el, options) {\n      if (!(el && el.nodeType && el.nodeType === 1)) {\n        throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n      }\n  \n      this.el = el; // root element\n  \n      this.options = options = _extends({}, options); // Export instance\n  \n      el[expando] = this;\n      var defaults = {\n        group: null,\n        sort: true,\n        disabled: false,\n        store: null,\n        handle: null,\n        draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n        swapThreshold: 1,\n        // percentage; 0 <= x <= 1\n        invertSwap: false,\n        // invert always\n        invertedSwapThreshold: null,\n        // will be set to same as swapThreshold if default\n        removeCloneOnHide: true,\n        direction: function direction() {\n          return _detectDirection(el, this.options);\n        },\n        ghostClass: 'sortable-ghost',\n        chosenClass: 'sortable-chosen',\n        dragClass: 'sortable-drag',\n        ignore: 'a, img',\n        filter: null,\n        preventOnFilter: true,\n        animation: 0,\n        easing: null,\n        setData: function setData(dataTransfer, dragEl) {\n          dataTransfer.setData('Text', dragEl.textContent);\n        },\n        dropBubble: false,\n        dragoverBubble: false,\n        dataIdAttr: 'data-id',\n        delay: 0,\n        delayOnTouchOnly: false,\n        touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n        forceFallback: false,\n        fallbackClass: 'sortable-fallback',\n        fallbackOnBody: false,\n        fallbackTolerance: 0,\n        fallbackOffset: {\n          x: 0,\n          y: 0\n        },\n        supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,\n        emptyInsertThreshold: 5\n      };\n      PluginManager.initializePlugins(this, el, defaults); // Set default options\n  \n      for (var name in defaults) {\n        !(name in options) && (options[name] = defaults[name]);\n      }\n  \n      _prepareGroup(options); // Bind all private methods\n  \n  \n      for (var fn in this) {\n        if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n          this[fn] = this[fn].bind(this);\n        }\n      } // Setup drag mode\n  \n  \n      this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n  \n      if (this.nativeDraggable) {\n        // Touch start threshold cannot be greater than the native dragstart threshold\n        this.options.touchStartThreshold = 1;\n      } // Bind events\n  \n  \n      if (options.supportPointer) {\n        on(el, 'pointerdown', this._onTapStart);\n      } else {\n        on(el, 'mousedown', this._onTapStart);\n        on(el, 'touchstart', this._onTapStart);\n      }\n  \n      if (this.nativeDraggable) {\n        on(el, 'dragover', this);\n        on(el, 'dragenter', this);\n      }\n  \n      sortables.push(this.el); // Restore sorting\n  \n      options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n  \n      _extends(this, AnimationStateManager());\n    }\n  \n    Sortable.prototype =\n    /** @lends Sortable.prototype */\n    {\n      constructor: Sortable,\n      _isOutsideThisEl: function _isOutsideThisEl(target) {\n        if (!this.el.contains(target) && target !== this.el) {\n          lastTarget = null;\n        }\n      },\n      _getDirection: function _getDirection(evt, target) {\n        return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n      },\n      _onTapStart: function _onTapStart(\n      /** Event|TouchEvent */\n      evt) {\n        if (!evt.cancelable) return;\n  \n        var _this = this,\n            el = this.el,\n            options = this.options,\n            preventOnFilter = options.preventOnFilter,\n            type = evt.type,\n            touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n            target = (touch || evt).target,\n            originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n            filter = options.filter;\n  \n        _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n  \n  \n        if (dragEl) {\n          return;\n        }\n  \n        if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n          return; // only left button and enabled\n        } // cancel dnd if original target is content editable\n  \n  \n        if (originalTarget.isContentEditable) {\n          return;\n        }\n  \n        target = closest(target, options.draggable, el, false);\n  \n        if (target && target.animated) {\n          return;\n        }\n  \n        if (lastDownEl === target) {\n          // Ignoring duplicate `down`\n          return;\n        } // Get the index of the dragged element within its parent\n  \n  \n        oldIndex = index(target);\n        oldDraggableIndex = index(target, options.draggable); // Check filter\n  \n        if (typeof filter === 'function') {\n          if (filter.call(this, evt, target, this)) {\n            _dispatchEvent({\n              sortable: _this,\n              rootEl: originalTarget,\n              name: 'filter',\n              targetEl: target,\n              toEl: el,\n              fromEl: el\n            });\n  \n            pluginEvent('filter', _this, {\n              evt: evt\n            });\n            preventOnFilter && evt.cancelable && evt.preventDefault();\n            return; // cancel dnd\n          }\n        } else if (filter) {\n          filter = filter.split(',').some(function (criteria) {\n            criteria = closest(originalTarget, criteria.trim(), el, false);\n  \n            if (criteria) {\n              _dispatchEvent({\n                sortable: _this,\n                rootEl: criteria,\n                name: 'filter',\n                targetEl: target,\n                fromEl: el,\n                toEl: el\n              });\n  \n              pluginEvent('filter', _this, {\n                evt: evt\n              });\n              return true;\n            }\n          });\n  \n          if (filter) {\n            preventOnFilter && evt.cancelable && evt.preventDefault();\n            return; // cancel dnd\n          }\n        }\n        if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n          return;\n        } // Prepare `dragstart`\n  \n  \n        this._prepareDragStart(evt, touch, target);\n      },\n      _prepareDragStart: function _prepareDragStart(\n      /** Event */\n      evt,\n      /** Touch */\n      touch,\n      /** HTMLElement */\n      target) {\n        var _this = this,\n            el = _this.el,\n            options = _this.options,\n            ownerDocument = el.ownerDocument,\n            dragStartFn;\n  \n        if (target && !dragEl && target.parentNode === el) {\n          var dragRect = getRect(target);\n          rootEl = el;\n          dragEl = target;\n          parentEl = dragEl.parentNode;\n          nextEl = dragEl.nextSibling;\n          lastDownEl = target;\n          activeGroup = options.group;\n          Sortable.dragged = dragEl;\n          tapEvt = {\n            target: dragEl,\n            clientX: (touch || evt).clientX,\n            clientY: (touch || evt).clientY\n          };\n          tapDistanceLeft = tapEvt.clientX - dragRect.left;\n          tapDistanceTop = tapEvt.clientY - dragRect.top;\n          this._lastX = (touch || evt).clientX;\n          this._lastY = (touch || evt).clientY;\n          dragEl.style['will-change'] = 'all';\n  \n          dragStartFn = function dragStartFn() {\n            pluginEvent('delayEnded', _this, {\n              evt: evt\n            });\n  \n            if (Sortable.eventCanceled) {\n              _this._onDrop();\n  \n              return;\n            } // Delayed drag has been triggered\n            // we can re-enable the events: touchmove/mousemove\n  \n  \n            _this._disableDelayedDragEvents();\n  \n            if (!FireFox && _this.nativeDraggable) {\n              dragEl.draggable = true;\n            } // Bind the events: dragstart/dragend\n  \n  \n            _this._triggerDragStart(evt, touch); // Drag start event\n  \n  \n            _dispatchEvent({\n              sortable: _this,\n              name: 'choose',\n              originalEvent: evt\n            }); // Chosen item\n  \n  \n            toggleClass(dragEl, options.chosenClass, true);\n          }; // Disable \"draggable\"\n  \n  \n          options.ignore.split(',').forEach(function (criteria) {\n            find(dragEl, criteria.trim(), _disableDraggable);\n          });\n          on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n          on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n          on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n          on(ownerDocument, 'mouseup', _this._onDrop);\n          on(ownerDocument, 'touchend', _this._onDrop);\n          on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n  \n          if (FireFox && this.nativeDraggable) {\n            this.options.touchStartThreshold = 4;\n            dragEl.draggable = true;\n          }\n  \n          pluginEvent('delayStart', this, {\n            evt: evt\n          }); // Delay is impossible for native DnD in Edge or IE\n  \n          if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n            if (Sortable.eventCanceled) {\n              this._onDrop();\n  \n              return;\n            } // If the user moves the pointer or let go the click or touch\n            // before the delay has been reached:\n            // disable the delayed drag\n  \n  \n            on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n            on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n            on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n            on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n            on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n            options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n            _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n          } else {\n            dragStartFn();\n          }\n        }\n      },\n      _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n      /** TouchEvent|PointerEvent **/\n      e) {\n        var touch = e.touches ? e.touches[0] : e;\n  \n        if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n          this._disableDelayedDrag();\n        }\n      },\n      _disableDelayedDrag: function _disableDelayedDrag() {\n        dragEl && _disableDraggable(dragEl);\n        clearTimeout(this._dragStartTimer);\n  \n        this._disableDelayedDragEvents();\n      },\n      _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n        var ownerDocument = this.el.ownerDocument;\n        off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n        off(ownerDocument, 'touchend', this._disableDelayedDrag);\n        off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n        off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n        off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n        off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n      },\n      _triggerDragStart: function _triggerDragStart(\n      /** Event */\n      evt,\n      /** Touch */\n      touch) {\n        touch = touch || evt.pointerType == 'touch' && evt;\n  \n        if (!this.nativeDraggable || touch) {\n          if (this.options.supportPointer) {\n            on(document, 'pointermove', this._onTouchMove);\n          } else if (touch) {\n            on(document, 'touchmove', this._onTouchMove);\n          } else {\n            on(document, 'mousemove', this._onTouchMove);\n          }\n        } else {\n          on(dragEl, 'dragend', this);\n          on(rootEl, 'dragstart', this._onDragStart);\n        }\n  \n        try {\n          if (document.selection) {\n            // Timeout neccessary for IE9\n            _nextTick(function () {\n              document.selection.empty();\n            });\n          } else {\n            window.getSelection().removeAllRanges();\n          }\n        } catch (err) {}\n      },\n      _dragStarted: function _dragStarted(fallback, evt) {\n  \n        awaitingDragStarted = false;\n  \n        if (rootEl && dragEl) {\n          pluginEvent('dragStarted', this, {\n            evt: evt\n          });\n  \n          if (this.nativeDraggable) {\n            on(document, 'dragover', _checkOutsideTargetEl);\n          }\n  \n          var options = this.options; // Apply effect\n  \n          !fallback && toggleClass(dragEl, options.dragClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n          Sortable.active = this;\n          fallback && this._appendGhost(); // Drag start event\n  \n          _dispatchEvent({\n            sortable: this,\n            name: 'start',\n            originalEvent: evt\n          });\n        } else {\n          this._nulling();\n        }\n      },\n      _emulateDragOver: function _emulateDragOver() {\n        if (touchEvt) {\n          this._lastX = touchEvt.clientX;\n          this._lastY = touchEvt.clientY;\n  \n          _hideGhostForTarget();\n  \n          var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n          var parent = target;\n  \n          while (target && target.shadowRoot) {\n            target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n            if (target === parent) break;\n            parent = target;\n          }\n  \n          dragEl.parentNode[expando]._isOutsideThisEl(target);\n  \n          if (parent) {\n            do {\n              if (parent[expando]) {\n                var inserted = void 0;\n                inserted = parent[expando]._onDragOver({\n                  clientX: touchEvt.clientX,\n                  clientY: touchEvt.clientY,\n                  target: target,\n                  rootEl: parent\n                });\n  \n                if (inserted && !this.options.dragoverBubble) {\n                  break;\n                }\n              }\n  \n              target = parent; // store last element\n            }\n            /* jshint boss:true */\n            while (parent = parent.parentNode);\n          }\n  \n          _unhideGhostForTarget();\n        }\n      },\n      _onTouchMove: function _onTouchMove(\n      /**TouchEvent*/\n      evt) {\n        if (tapEvt) {\n          var options = this.options,\n              fallbackTolerance = options.fallbackTolerance,\n              fallbackOffset = options.fallbackOffset,\n              touch = evt.touches ? evt.touches[0] : evt,\n              ghostMatrix = ghostEl && matrix(ghostEl, true),\n              scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n              scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n              relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n              dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n              dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n  \n          if (!Sortable.active && !awaitingDragStarted) {\n            if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n              return;\n            }\n  \n            this._onDragStart(evt, true);\n          }\n  \n          if (ghostEl) {\n            if (ghostMatrix) {\n              ghostMatrix.e += dx - (lastDx || 0);\n              ghostMatrix.f += dy - (lastDy || 0);\n            } else {\n              ghostMatrix = {\n                a: 1,\n                b: 0,\n                c: 0,\n                d: 1,\n                e: dx,\n                f: dy\n              };\n            }\n  \n            var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n            css(ghostEl, 'webkitTransform', cssMatrix);\n            css(ghostEl, 'mozTransform', cssMatrix);\n            css(ghostEl, 'msTransform', cssMatrix);\n            css(ghostEl, 'transform', cssMatrix);\n            lastDx = dx;\n            lastDy = dy;\n            touchEvt = touch;\n          }\n  \n          evt.cancelable && evt.preventDefault();\n        }\n      },\n      _appendGhost: function _appendGhost() {\n        // Bug if using scale(): https://stackoverflow.com/questions/2637058\n        // Not being adjusted for\n        if (!ghostEl) {\n          var container = this.options.fallbackOnBody ? document.body : rootEl,\n              rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n              options = this.options; // Position absolutely\n  \n          if (PositionGhostAbsolutely) {\n            // Get relatively positioned parent\n            ghostRelativeParent = container;\n  \n            while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n              ghostRelativeParent = ghostRelativeParent.parentNode;\n            }\n  \n            if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n              if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n              rect.top += ghostRelativeParent.scrollTop;\n              rect.left += ghostRelativeParent.scrollLeft;\n            } else {\n              ghostRelativeParent = getWindowScrollingElement();\n            }\n  \n            ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n          }\n  \n          ghostEl = dragEl.cloneNode(true);\n          toggleClass(ghostEl, options.ghostClass, false);\n          toggleClass(ghostEl, options.fallbackClass, true);\n          toggleClass(ghostEl, options.dragClass, true);\n          css(ghostEl, 'transition', '');\n          css(ghostEl, 'transform', '');\n          css(ghostEl, 'box-sizing', 'border-box');\n          css(ghostEl, 'margin', 0);\n          css(ghostEl, 'top', rect.top);\n          css(ghostEl, 'left', rect.left);\n          css(ghostEl, 'width', rect.width);\n          css(ghostEl, 'height', rect.height);\n          css(ghostEl, 'opacity', '0.8');\n          css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n          css(ghostEl, 'zIndex', '100000');\n          css(ghostEl, 'pointerEvents', 'none');\n          Sortable.ghost = ghostEl;\n          container.appendChild(ghostEl); // Set transform-origin\n  \n          css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n        }\n      },\n      _onDragStart: function _onDragStart(\n      /**Event*/\n      evt,\n      /**boolean*/\n      fallback) {\n        var _this = this;\n  \n        var dataTransfer = evt.dataTransfer;\n        var options = _this.options;\n        pluginEvent('dragStart', this, {\n          evt: evt\n        });\n  \n        if (Sortable.eventCanceled) {\n          this._onDrop();\n  \n          return;\n        }\n  \n        pluginEvent('setupClone', this);\n  \n        if (!Sortable.eventCanceled) {\n          cloneEl = clone(dragEl);\n          cloneEl.draggable = false;\n          cloneEl.style['will-change'] = '';\n  \n          this._hideClone();\n  \n          toggleClass(cloneEl, this.options.chosenClass, false);\n          Sortable.clone = cloneEl;\n        } // #1143: IFrame support workaround\n  \n  \n        _this.cloneId = _nextTick(function () {\n          pluginEvent('clone', _this);\n          if (Sortable.eventCanceled) return;\n  \n          if (!_this.options.removeCloneOnHide) {\n            rootEl.insertBefore(cloneEl, dragEl);\n          }\n  \n          _this._hideClone();\n  \n          _dispatchEvent({\n            sortable: _this,\n            name: 'clone'\n          });\n        });\n        !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n  \n        if (fallback) {\n          ignoreNextClick = true;\n          _this._loopId = setInterval(_this._emulateDragOver, 50);\n        } else {\n          // Undo what was set in _prepareDragStart before drag started\n          off(document, 'mouseup', _this._onDrop);\n          off(document, 'touchend', _this._onDrop);\n          off(document, 'touchcancel', _this._onDrop);\n  \n          if (dataTransfer) {\n            dataTransfer.effectAllowed = 'move';\n            options.setData && options.setData.call(_this, dataTransfer, dragEl);\n          }\n  \n          on(document, 'drop', _this); // #1276 fix:\n  \n          css(dragEl, 'transform', 'translateZ(0)');\n        }\n  \n        awaitingDragStarted = true;\n        _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n        on(document, 'selectstart', _this);\n        moved = true;\n  \n        if (Safari) {\n          css(document.body, 'user-select', 'none');\n        }\n      },\n      // Returns true - if no further action is needed (either inserted or another condition)\n      _onDragOver: function _onDragOver(\n      /**Event*/\n      evt) {\n        var el = this.el,\n            target = evt.target,\n            dragRect,\n            targetRect,\n            revert,\n            options = this.options,\n            group = options.group,\n            activeSortable = Sortable.active,\n            isOwner = activeGroup === group,\n            canSort = options.sort,\n            fromSortable = putSortable || activeSortable,\n            vertical,\n            _this = this,\n            completedFired = false;\n  \n        if (_silent) return;\n  \n        function dragOverEvent(name, extra) {\n          pluginEvent(name, _this, _objectSpread({\n            evt: evt,\n            isOwner: isOwner,\n            axis: vertical ? 'vertical' : 'horizontal',\n            revert: revert,\n            dragRect: dragRect,\n            targetRect: targetRect,\n            canSort: canSort,\n            fromSortable: fromSortable,\n            target: target,\n            completed: completed,\n            onMove: function onMove(target, after) {\n              return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n            },\n            changed: changed\n          }, extra));\n        } // Capture animation state\n  \n  \n        function capture() {\n          dragOverEvent('dragOverAnimationCapture');\n  \n          _this.captureAnimationState();\n  \n          if (_this !== fromSortable) {\n            fromSortable.captureAnimationState();\n          }\n        } // Return invocation when dragEl is inserted (or completed)\n  \n  \n        function completed(insertion) {\n          dragOverEvent('dragOverCompleted', {\n            insertion: insertion\n          });\n  \n          if (insertion) {\n            // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n            if (isOwner) {\n              activeSortable._hideClone();\n            } else {\n              activeSortable._showClone(_this);\n            }\n  \n            if (_this !== fromSortable) {\n              // Set ghost class to new sortable's ghost class\n              toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n              toggleClass(dragEl, options.ghostClass, true);\n            }\n  \n            if (putSortable !== _this && _this !== Sortable.active) {\n              putSortable = _this;\n            } else if (_this === Sortable.active && putSortable) {\n              putSortable = null;\n            } // Animation\n  \n  \n            if (fromSortable === _this) {\n              _this._ignoreWhileAnimating = target;\n            }\n  \n            _this.animateAll(function () {\n              dragOverEvent('dragOverAnimationComplete');\n              _this._ignoreWhileAnimating = null;\n            });\n  \n            if (_this !== fromSortable) {\n              fromSortable.animateAll();\n              fromSortable._ignoreWhileAnimating = null;\n            }\n          } // Null lastTarget if it is not inside a previously swapped element\n  \n  \n          if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n            lastTarget = null;\n          } // no bubbling and not fallback\n  \n  \n          if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n            dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n  \n  \n            !insertion && nearestEmptyInsertDetectEvent(evt);\n          }\n  \n          !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n          return completedFired = true;\n        } // Call when dragEl has been inserted\n  \n  \n        function changed() {\n          newIndex = index(dragEl);\n          newDraggableIndex = index(dragEl, options.draggable);\n  \n          _dispatchEvent({\n            sortable: _this,\n            name: 'change',\n            toEl: el,\n            newIndex: newIndex,\n            newDraggableIndex: newDraggableIndex,\n            originalEvent: evt\n          });\n        }\n  \n        if (evt.preventDefault !== void 0) {\n          evt.cancelable && evt.preventDefault();\n        }\n  \n        target = closest(target, options.draggable, el, true);\n        dragOverEvent('dragOver');\n        if (Sortable.eventCanceled) return completedFired;\n  \n        if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n          return completed(false);\n        }\n  \n        ignoreNextClick = false;\n  \n        if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n        : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n          vertical = this._getDirection(evt, target) === 'vertical';\n          dragRect = getRect(dragEl);\n          dragOverEvent('dragOverValid');\n          if (Sortable.eventCanceled) return completedFired;\n  \n          if (revert) {\n            parentEl = rootEl; // actualization\n  \n            capture();\n  \n            this._hideClone();\n  \n            dragOverEvent('revert');\n  \n            if (!Sortable.eventCanceled) {\n              if (nextEl) {\n                rootEl.insertBefore(dragEl, nextEl);\n              } else {\n                rootEl.appendChild(dragEl);\n              }\n            }\n  \n            return completed(true);\n          }\n  \n          var elLastChild = lastChild(el, options.draggable);\n  \n          if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n            // If already at end of list: Do not insert\n            if (elLastChild === dragEl) {\n              return completed(false);\n            } // assign target only if condition is true\n  \n  \n            if (elLastChild && el === evt.target) {\n              target = elLastChild;\n            }\n  \n            if (target) {\n              targetRect = getRect(target);\n            }\n  \n            if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n              capture();\n              el.appendChild(dragEl);\n              parentEl = el; // actualization\n  \n              changed();\n              return completed(true);\n            }\n          } else if (target.parentNode === el) {\n            targetRect = getRect(target);\n            var direction = 0,\n                targetBeforeFirstSwap,\n                differentLevel = dragEl.parentNode !== el,\n                differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n                side1 = vertical ? 'top' : 'left',\n                scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n                scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n  \n            if (lastTarget !== target) {\n              targetBeforeFirstSwap = targetRect[side1];\n              pastFirstInvertThresh = false;\n              isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n            }\n  \n            direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n            var sibling;\n  \n            if (direction !== 0) {\n              // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n              var dragIndex = index(dragEl);\n  \n              do {\n                dragIndex -= direction;\n                sibling = parentEl.children[dragIndex];\n              } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n            } // If dragEl is already beside target: Do not insert\n  \n  \n            if (direction === 0 || sibling === target) {\n              return completed(false);\n            }\n  \n            lastTarget = target;\n            lastDirection = direction;\n            var nextSibling = target.nextElementSibling,\n                after = false;\n            after = direction === 1;\n  \n            var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n  \n            if (moveVector !== false) {\n              if (moveVector === 1 || moveVector === -1) {\n                after = moveVector === 1;\n              }\n  \n              _silent = true;\n              setTimeout(_unsilent, 30);\n              capture();\n  \n              if (after && !nextSibling) {\n                el.appendChild(dragEl);\n              } else {\n                target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n              } // Undo chrome's scroll adjustment (has no effect on other browsers)\n  \n  \n              if (scrolledPastTop) {\n                scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n              }\n  \n              parentEl = dragEl.parentNode; // actualization\n              // must be done before animation\n  \n              if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n                targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n              }\n  \n              changed();\n              return completed(true);\n            }\n          }\n  \n          if (el.contains(dragEl)) {\n            return completed(false);\n          }\n        }\n  \n        return false;\n      },\n      _ignoreWhileAnimating: null,\n      _offMoveEvents: function _offMoveEvents() {\n        off(document, 'mousemove', this._onTouchMove);\n        off(document, 'touchmove', this._onTouchMove);\n        off(document, 'pointermove', this._onTouchMove);\n        off(document, 'dragover', nearestEmptyInsertDetectEvent);\n        off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n        off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n      },\n      _offUpEvents: function _offUpEvents() {\n        var ownerDocument = this.el.ownerDocument;\n        off(ownerDocument, 'mouseup', this._onDrop);\n        off(ownerDocument, 'touchend', this._onDrop);\n        off(ownerDocument, 'pointerup', this._onDrop);\n        off(ownerDocument, 'touchcancel', this._onDrop);\n        off(document, 'selectstart', this);\n      },\n      _onDrop: function _onDrop(\n      /**Event*/\n      evt) {\n        var el = this.el,\n            options = this.options; // Get the index of the dragged element within its parent\n  \n        newIndex = index(dragEl);\n        newDraggableIndex = index(dragEl, options.draggable);\n        pluginEvent('drop', this, {\n          evt: evt\n        });\n        parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n  \n        newIndex = index(dragEl);\n        newDraggableIndex = index(dragEl, options.draggable);\n  \n        if (Sortable.eventCanceled) {\n          this._nulling();\n  \n          return;\n        }\n  \n        awaitingDragStarted = false;\n        isCircumstantialInvert = false;\n        pastFirstInvertThresh = false;\n        clearInterval(this._loopId);\n        clearTimeout(this._dragStartTimer);\n  \n        _cancelNextTick(this.cloneId);\n  \n        _cancelNextTick(this._dragStartId); // Unbind events\n  \n  \n        if (this.nativeDraggable) {\n          off(document, 'drop', this);\n          off(el, 'dragstart', this._onDragStart);\n        }\n  \n        this._offMoveEvents();\n  \n        this._offUpEvents();\n  \n        if (Safari) {\n          css(document.body, 'user-select', '');\n        }\n  \n        css(dragEl, 'transform', '');\n  \n        if (evt) {\n          if (moved) {\n            evt.cancelable && evt.preventDefault();\n            !options.dropBubble && evt.stopPropagation();\n          }\n  \n          ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n  \n          if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n            // Remove clone(s)\n            cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n          }\n  \n          if (dragEl) {\n            if (this.nativeDraggable) {\n              off(dragEl, 'dragend', this);\n            }\n  \n            _disableDraggable(dragEl);\n  \n            dragEl.style['will-change'] = ''; // Remove classes\n            // ghostClass is added in dragStarted\n  \n            if (moved && !awaitingDragStarted) {\n              toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n            }\n  \n            toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n  \n            _dispatchEvent({\n              sortable: this,\n              name: 'unchoose',\n              toEl: parentEl,\n              newIndex: null,\n              newDraggableIndex: null,\n              originalEvent: evt\n            });\n  \n            if (rootEl !== parentEl) {\n              if (newIndex >= 0) {\n                // Add event\n                _dispatchEvent({\n                  rootEl: parentEl,\n                  name: 'add',\n                  toEl: parentEl,\n                  fromEl: rootEl,\n                  originalEvent: evt\n                }); // Remove event\n  \n  \n                _dispatchEvent({\n                  sortable: this,\n                  name: 'remove',\n                  toEl: parentEl,\n                  originalEvent: evt\n                }); // drag from one list and drop into another\n  \n  \n                _dispatchEvent({\n                  rootEl: parentEl,\n                  name: 'sort',\n                  toEl: parentEl,\n                  fromEl: rootEl,\n                  originalEvent: evt\n                });\n  \n                _dispatchEvent({\n                  sortable: this,\n                  name: 'sort',\n                  toEl: parentEl,\n                  originalEvent: evt\n                });\n              }\n  \n              putSortable && putSortable.save();\n            } else {\n              if (newIndex !== oldIndex) {\n                if (newIndex >= 0) {\n                  // drag & drop within the same list\n                  _dispatchEvent({\n                    sortable: this,\n                    name: 'update',\n                    toEl: parentEl,\n                    originalEvent: evt\n                  });\n  \n                  _dispatchEvent({\n                    sortable: this,\n                    name: 'sort',\n                    toEl: parentEl,\n                    originalEvent: evt\n                  });\n                }\n              }\n            }\n  \n            if (Sortable.active) {\n              /* jshint eqnull:true */\n              if (newIndex == null || newIndex === -1) {\n                newIndex = oldIndex;\n                newDraggableIndex = oldDraggableIndex;\n              }\n  \n              _dispatchEvent({\n                sortable: this,\n                name: 'end',\n                toEl: parentEl,\n                originalEvent: evt\n              }); // Save sorting\n  \n  \n              this.save();\n            }\n          }\n        }\n  \n        this._nulling();\n      },\n      _nulling: function _nulling() {\n        pluginEvent('nulling', this);\n        rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n        savedInputChecked.forEach(function (el) {\n          el.checked = true;\n        });\n        savedInputChecked.length = lastDx = lastDy = 0;\n      },\n      handleEvent: function handleEvent(\n      /**Event*/\n      evt) {\n        switch (evt.type) {\n          case 'drop':\n          case 'dragend':\n            this._onDrop(evt);\n  \n            break;\n  \n          case 'dragenter':\n          case 'dragover':\n            if (dragEl) {\n              this._onDragOver(evt);\n  \n              _globalDragOver(evt);\n            }\n  \n            break;\n  \n          case 'selectstart':\n            evt.preventDefault();\n            break;\n        }\n      },\n  \n      /**\n       * Serializes the item into an array of string.\n       * @returns {String[]}\n       */\n      toArray: function toArray() {\n        var order = [],\n            el,\n            children = this.el.children,\n            i = 0,\n            n = children.length,\n            options = this.options;\n  \n        for (; i < n; i++) {\n          el = children[i];\n  \n          if (closest(el, options.draggable, this.el, false)) {\n            order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n          }\n        }\n  \n        return order;\n      },\n  \n      /**\n       * Sorts the elements according to the array.\n       * @param  {String[]}  order  order of the items\n       */\n      sort: function sort(order) {\n        var items = {},\n            rootEl = this.el;\n        this.toArray().forEach(function (id, i) {\n          var el = rootEl.children[i];\n  \n          if (closest(el, this.options.draggable, rootEl, false)) {\n            items[id] = el;\n          }\n        }, this);\n        order.forEach(function (id) {\n          if (items[id]) {\n            rootEl.removeChild(items[id]);\n            rootEl.appendChild(items[id]);\n          }\n        });\n      },\n  \n      /**\n       * Save the current sorting\n       */\n      save: function save() {\n        var store = this.options.store;\n        store && store.set && store.set(this);\n      },\n  \n      /**\n       * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n       * @param   {HTMLElement}  el\n       * @param   {String}       [selector]  default: `options.draggable`\n       * @returns {HTMLElement|null}\n       */\n      closest: function closest$1(el, selector) {\n        return closest(el, selector || this.options.draggable, this.el, false);\n      },\n  \n      /**\n       * Set/get option\n       * @param   {string} name\n       * @param   {*}      [value]\n       * @returns {*}\n       */\n      option: function option(name, value) {\n        var options = this.options;\n  \n        if (value === void 0) {\n          return options[name];\n        } else {\n          var modifiedValue = PluginManager.modifyOption(this, name, value);\n  \n          if (typeof modifiedValue !== 'undefined') {\n            options[name] = modifiedValue;\n          } else {\n            options[name] = value;\n          }\n  \n          if (name === 'group') {\n            _prepareGroup(options);\n          }\n        }\n      },\n  \n      /**\n       * Destroy\n       */\n      destroy: function destroy() {\n        pluginEvent('destroy', this);\n        var el = this.el;\n        el[expando] = null;\n        off(el, 'mousedown', this._onTapStart);\n        off(el, 'touchstart', this._onTapStart);\n        off(el, 'pointerdown', this._onTapStart);\n  \n        if (this.nativeDraggable) {\n          off(el, 'dragover', this);\n          off(el, 'dragenter', this);\n        } // Remove draggable attributes\n  \n  \n        Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n          el.removeAttribute('draggable');\n        });\n  \n        this._onDrop();\n  \n        this._disableDelayedDragEvents();\n  \n        sortables.splice(sortables.indexOf(this.el), 1);\n        this.el = el = null;\n      },\n      _hideClone: function _hideClone() {\n        if (!cloneHidden) {\n          pluginEvent('hideClone', this);\n          if (Sortable.eventCanceled) return;\n          css(cloneEl, 'display', 'none');\n  \n          if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n            cloneEl.parentNode.removeChild(cloneEl);\n          }\n  \n          cloneHidden = true;\n        }\n      },\n      _showClone: function _showClone(putSortable) {\n        if (putSortable.lastPutMode !== 'clone') {\n          this._hideClone();\n  \n          return;\n        }\n  \n        if (cloneHidden) {\n          pluginEvent('showClone', this);\n          if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n  \n          if (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n            rootEl.insertBefore(cloneEl, dragEl);\n          } else if (nextEl) {\n            rootEl.insertBefore(cloneEl, nextEl);\n          } else {\n            rootEl.appendChild(cloneEl);\n          }\n  \n          if (this.options.group.revertClone) {\n            this.animate(dragEl, cloneEl);\n          }\n  \n          css(cloneEl, 'display', '');\n          cloneHidden = false;\n        }\n      }\n    };\n  \n    function _globalDragOver(\n    /**Event*/\n    evt) {\n      if (evt.dataTransfer) {\n        evt.dataTransfer.dropEffect = 'move';\n      }\n  \n      evt.cancelable && evt.preventDefault();\n    }\n  \n    function _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n      var evt,\n          sortable = fromEl[expando],\n          onMoveFn = sortable.options.onMove,\n          retVal; // Support for new CustomEvent feature\n  \n      if (window.CustomEvent && !IE11OrLess && !Edge) {\n        evt = new CustomEvent('move', {\n          bubbles: true,\n          cancelable: true\n        });\n      } else {\n        evt = document.createEvent('Event');\n        evt.initEvent('move', true, true);\n      }\n  \n      evt.to = toEl;\n      evt.from = fromEl;\n      evt.dragged = dragEl;\n      evt.draggedRect = dragRect;\n      evt.related = targetEl || toEl;\n      evt.relatedRect = targetRect || getRect(toEl);\n      evt.willInsertAfter = willInsertAfter;\n      evt.originalEvent = originalEvent;\n      fromEl.dispatchEvent(evt);\n  \n      if (onMoveFn) {\n        retVal = onMoveFn.call(sortable, evt, originalEvent);\n      }\n  \n      return retVal;\n    }\n  \n    function _disableDraggable(el) {\n      el.draggable = false;\n    }\n  \n    function _unsilent() {\n      _silent = false;\n    }\n  \n    function _ghostIsLast(evt, vertical, sortable) {\n      var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n      var spacer = 10;\n      return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n    }\n  \n    function _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n      var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n          targetLength = vertical ? targetRect.height : targetRect.width,\n          targetS1 = vertical ? targetRect.top : targetRect.left,\n          targetS2 = vertical ? targetRect.bottom : targetRect.right,\n          invert = false;\n  \n      if (!invertSwap) {\n        // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n        if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n          // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n          // check if past first invert threshold on side opposite of lastDirection\n          if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n            // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n            pastFirstInvertThresh = true;\n          }\n  \n          if (!pastFirstInvertThresh) {\n            // dragEl shadow (target move distance shadow)\n            if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n            : mouseOnAxis > targetS2 - targetMoveDistance) {\n              return -lastDirection;\n            }\n          } else {\n            invert = true;\n          }\n        } else {\n          // Regular\n          if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n            return _getInsertDirection(target);\n          }\n        }\n      }\n  \n      invert = invert || invertSwap;\n  \n      if (invert) {\n        // Invert of regular\n        if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n          return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n        }\n      }\n  \n      return 0;\n    }\n    /**\n     * Gets the direction dragEl must be swapped relative to target in order to make it\n     * seem that dragEl has been \"inserted\" into that element's position\n     * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n     * @return {Number}                   Direction dragEl must be swapped\n     */\n  \n  \n    function _getInsertDirection(target) {\n      if (index(dragEl) < index(target)) {\n        return 1;\n      } else {\n        return -1;\n      }\n    }\n    /**\n     * Generate id\n     * @param   {HTMLElement} el\n     * @returns {String}\n     * @private\n     */\n  \n  \n    function _generateId(el) {\n      var str = el.tagName + el.className + el.src + el.href + el.textContent,\n          i = str.length,\n          sum = 0;\n  \n      while (i--) {\n        sum += str.charCodeAt(i);\n      }\n  \n      return sum.toString(36);\n    }\n  \n    function _saveInputCheckedState(root) {\n      savedInputChecked.length = 0;\n      var inputs = root.getElementsByTagName('input');\n      var idx = inputs.length;\n  \n      while (idx--) {\n        var el = inputs[idx];\n        el.checked && savedInputChecked.push(el);\n      }\n    }\n  \n    function _nextTick(fn) {\n      return setTimeout(fn, 0);\n    }\n  \n    function _cancelNextTick(id) {\n      return clearTimeout(id);\n    } // Fixed #973:\n  \n  \n    if (documentExists) {\n      on(document, 'touchmove', function (evt) {\n        if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n          evt.preventDefault();\n        }\n      });\n    } // Export utils\n  \n  \n    Sortable.utils = {\n      on: on,\n      off: off,\n      css: css,\n      find: find,\n      is: function is(el, selector) {\n        return !!closest(el, selector, el, false);\n      },\n      extend: extend,\n      throttle: throttle,\n      closest: closest,\n      toggleClass: toggleClass,\n      clone: clone,\n      index: index,\n      nextTick: _nextTick,\n      cancelNextTick: _cancelNextTick,\n      detectDirection: _detectDirection,\n      getChild: getChild\n    };\n    /**\n     * Get the Sortable instance of an element\n     * @param  {HTMLElement} element The element\n     * @return {Sortable|undefined}         The instance of Sortable\n     */\n  \n    Sortable.get = function (element) {\n      return element[expando];\n    };\n    /**\n     * Mount a plugin to Sortable\n     * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n     */\n  \n  \n    Sortable.mount = function () {\n      for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n        plugins[_key] = arguments[_key];\n      }\n  \n      if (plugins[0].constructor === Array) plugins = plugins[0];\n      plugins.forEach(function (plugin) {\n        if (!plugin.prototype || !plugin.prototype.constructor) {\n          throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n        }\n  \n        if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n        PluginManager.mount(plugin);\n      });\n    };\n    /**\n     * Create sortable instance\n     * @param {HTMLElement}  el\n     * @param {Object}      [options]\n     */\n  \n  \n    Sortable.create = function (el, options) {\n      return new Sortable(el, options);\n    }; // Export\n  \n  \n    Sortable.version = version;\n  \n    var autoScrolls = [],\n        scrollEl,\n        scrollRootEl,\n        scrolling = false,\n        lastAutoScrollX,\n        lastAutoScrollY,\n        touchEvt$1,\n        pointerElemChangedInterval;\n  \n    function AutoScrollPlugin() {\n      function AutoScroll() {\n        this.defaults = {\n          scroll: true,\n          scrollSensitivity: 30,\n          scrollSpeed: 10,\n          bubbleScroll: true\n        }; // Bind all private methods\n  \n        for (var fn in this) {\n          if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n            this[fn] = this[fn].bind(this);\n          }\n        }\n      }\n  \n      AutoScroll.prototype = {\n        dragStarted: function dragStarted(_ref) {\n          var originalEvent = _ref.originalEvent;\n  \n          if (this.sortable.nativeDraggable) {\n            on(document, 'dragover', this._handleAutoScroll);\n          } else {\n            if (this.options.supportPointer) {\n              on(document, 'pointermove', this._handleFallbackAutoScroll);\n            } else if (originalEvent.touches) {\n              on(document, 'touchmove', this._handleFallbackAutoScroll);\n            } else {\n              on(document, 'mousemove', this._handleFallbackAutoScroll);\n            }\n          }\n        },\n        dragOverCompleted: function dragOverCompleted(_ref2) {\n          var originalEvent = _ref2.originalEvent;\n  \n          // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n          if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n            this._handleAutoScroll(originalEvent);\n          }\n        },\n        drop: function drop() {\n          if (this.sortable.nativeDraggable) {\n            off(document, 'dragover', this._handleAutoScroll);\n          } else {\n            off(document, 'pointermove', this._handleFallbackAutoScroll);\n            off(document, 'touchmove', this._handleFallbackAutoScroll);\n            off(document, 'mousemove', this._handleFallbackAutoScroll);\n          }\n  \n          clearPointerElemChangedInterval();\n          clearAutoScrolls();\n          cancelThrottle();\n        },\n        nulling: function nulling() {\n          touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n          autoScrolls.length = 0;\n        },\n        _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n          this._handleAutoScroll(evt, true);\n        },\n        _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n          var _this = this;\n  \n          var x = (evt.touches ? evt.touches[0] : evt).clientX,\n              y = (evt.touches ? evt.touches[0] : evt).clientY,\n              elem = document.elementFromPoint(x, y);\n          touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n          // Edge's autoscroll seems too conditional,\n          // MACOS Safari does not have autoscroll,\n          // Firefox and Chrome are good\n  \n          if (fallback || Edge || IE11OrLess || Safari) {\n            autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n  \n            var ogElemScroller = getParentAutoScrollElement(elem, true);\n  \n            if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n              pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n  \n              pointerElemChangedInterval = setInterval(function () {\n                var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n  \n                if (newElem !== ogElemScroller) {\n                  ogElemScroller = newElem;\n                  clearAutoScrolls();\n                }\n  \n                autoScroll(evt, _this.options, newElem, fallback);\n              }, 10);\n              lastAutoScrollX = x;\n              lastAutoScrollY = y;\n            }\n          } else {\n            // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n            if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n              clearAutoScrolls();\n              return;\n            }\n  \n            autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n          }\n        }\n      };\n      return _extends(AutoScroll, {\n        pluginName: 'scroll',\n        initializeByDefault: true\n      });\n    }\n  \n    function clearAutoScrolls() {\n      autoScrolls.forEach(function (autoScroll) {\n        clearInterval(autoScroll.pid);\n      });\n      autoScrolls = [];\n    }\n  \n    function clearPointerElemChangedInterval() {\n      clearInterval(pointerElemChangedInterval);\n    }\n  \n    var autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n      // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n      if (!options.scroll) return;\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          sens = options.scrollSensitivity,\n          speed = options.scrollSpeed,\n          winScroller = getWindowScrollingElement();\n      var scrollThisInstance = false,\n          scrollCustomFn; // New scroll root, set scrollEl\n  \n      if (scrollRootEl !== rootEl) {\n        scrollRootEl = rootEl;\n        clearAutoScrolls();\n        scrollEl = options.scroll;\n        scrollCustomFn = options.scrollFn;\n  \n        if (scrollEl === true) {\n          scrollEl = getParentAutoScrollElement(rootEl, true);\n        }\n      }\n  \n      var layersOut = 0;\n      var currentParent = scrollEl;\n  \n      do {\n        var el = currentParent,\n            rect = getRect(el),\n            top = rect.top,\n            bottom = rect.bottom,\n            left = rect.left,\n            right = rect.right,\n            width = rect.width,\n            height = rect.height,\n            canScrollX = void 0,\n            canScrollY = void 0,\n            scrollWidth = el.scrollWidth,\n            scrollHeight = el.scrollHeight,\n            elCSS = css(el),\n            scrollPosX = el.scrollLeft,\n            scrollPosY = el.scrollTop;\n  \n        if (el === winScroller) {\n          canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n          canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n        } else {\n          canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n          canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n        }\n  \n        var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n        var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n  \n        if (!autoScrolls[layersOut]) {\n          for (var i = 0; i <= layersOut; i++) {\n            if (!autoScrolls[i]) {\n              autoScrolls[i] = {};\n            }\n          }\n        }\n  \n        if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n          autoScrolls[layersOut].el = el;\n          autoScrolls[layersOut].vx = vx;\n          autoScrolls[layersOut].vy = vy;\n          clearInterval(autoScrolls[layersOut].pid);\n  \n          if (vx != 0 || vy != 0) {\n            scrollThisInstance = true;\n            /* jshint loopfunc:true */\n  \n            autoScrolls[layersOut].pid = setInterval(function () {\n              // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n              if (isFallback && this.layer === 0) {\n                Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n  \n              }\n  \n              var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n              var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n  \n              if (typeof scrollCustomFn === 'function') {\n                if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n                  return;\n                }\n              }\n  \n              scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n            }.bind({\n              layer: layersOut\n            }), 24);\n          }\n        }\n  \n        layersOut++;\n      } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n  \n      scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n    }, 30);\n  \n    var drop = function drop(_ref) {\n      var originalEvent = _ref.originalEvent,\n          putSortable = _ref.putSortable,\n          dragEl = _ref.dragEl,\n          activeSortable = _ref.activeSortable,\n          dispatchSortableEvent = _ref.dispatchSortableEvent,\n          hideGhostForTarget = _ref.hideGhostForTarget,\n          unhideGhostForTarget = _ref.unhideGhostForTarget;\n      if (!originalEvent) return;\n      var toSortable = putSortable || activeSortable;\n      hideGhostForTarget();\n      var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n      var target = document.elementFromPoint(touch.clientX, touch.clientY);\n      unhideGhostForTarget();\n  \n      if (toSortable && !toSortable.el.contains(target)) {\n        dispatchSortableEvent('spill');\n        this.onSpill({\n          dragEl: dragEl,\n          putSortable: putSortable\n        });\n      }\n    };\n  \n    function Revert() {}\n  \n    Revert.prototype = {\n      startIndex: null,\n      dragStart: function dragStart(_ref2) {\n        var oldDraggableIndex = _ref2.oldDraggableIndex;\n        this.startIndex = oldDraggableIndex;\n      },\n      onSpill: function onSpill(_ref3) {\n        var dragEl = _ref3.dragEl,\n            putSortable = _ref3.putSortable;\n        this.sortable.captureAnimationState();\n  \n        if (putSortable) {\n          putSortable.captureAnimationState();\n        }\n  \n        var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n  \n        if (nextSibling) {\n          this.sortable.el.insertBefore(dragEl, nextSibling);\n        } else {\n          this.sortable.el.appendChild(dragEl);\n        }\n  \n        this.sortable.animateAll();\n  \n        if (putSortable) {\n          putSortable.animateAll();\n        }\n      },\n      drop: drop\n    };\n  \n    _extends(Revert, {\n      pluginName: 'revertOnSpill'\n    });\n  \n    function Remove() {}\n  \n    Remove.prototype = {\n      onSpill: function onSpill(_ref4) {\n        var dragEl = _ref4.dragEl,\n            putSortable = _ref4.putSortable;\n        var parentSortable = putSortable || this.sortable;\n        parentSortable.captureAnimationState();\n        dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n        parentSortable.animateAll();\n      },\n      drop: drop\n    };\n  \n    _extends(Remove, {\n      pluginName: 'removeOnSpill'\n    });\n  \n    var lastSwapEl;\n  \n    function SwapPlugin() {\n      function Swap() {\n        this.defaults = {\n          swapClass: 'sortable-swap-highlight'\n        };\n      }\n  \n      Swap.prototype = {\n        dragStart: function dragStart(_ref) {\n          var dragEl = _ref.dragEl;\n          lastSwapEl = dragEl;\n        },\n        dragOverValid: function dragOverValid(_ref2) {\n          var completed = _ref2.completed,\n              target = _ref2.target,\n              onMove = _ref2.onMove,\n              activeSortable = _ref2.activeSortable,\n              changed = _ref2.changed,\n              cancel = _ref2.cancel;\n          if (!activeSortable.options.swap) return;\n          var el = this.sortable.el,\n              options = this.options;\n  \n          if (target && target !== el) {\n            var prevSwapEl = lastSwapEl;\n  \n            if (onMove(target) !== false) {\n              toggleClass(target, options.swapClass, true);\n              lastSwapEl = target;\n            } else {\n              lastSwapEl = null;\n            }\n  \n            if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n              toggleClass(prevSwapEl, options.swapClass, false);\n            }\n          }\n  \n          changed();\n          completed(true);\n          cancel();\n        },\n        drop: function drop(_ref3) {\n          var activeSortable = _ref3.activeSortable,\n              putSortable = _ref3.putSortable,\n              dragEl = _ref3.dragEl;\n          var toSortable = putSortable || this.sortable;\n          var options = this.options;\n          lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n  \n          if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n            if (dragEl !== lastSwapEl) {\n              toSortable.captureAnimationState();\n              if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n              swapNodes(dragEl, lastSwapEl);\n              toSortable.animateAll();\n              if (toSortable !== activeSortable) activeSortable.animateAll();\n            }\n          }\n        },\n        nulling: function nulling() {\n          lastSwapEl = null;\n        }\n      };\n      return _extends(Swap, {\n        pluginName: 'swap',\n        eventProperties: function eventProperties() {\n          return {\n            swapItem: lastSwapEl\n          };\n        }\n      });\n    }\n  \n    function swapNodes(n1, n2) {\n      var p1 = n1.parentNode,\n          p2 = n2.parentNode,\n          i1,\n          i2;\n      if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n      i1 = index(n1);\n      i2 = index(n2);\n  \n      if (p1.isEqualNode(p2) && i1 < i2) {\n        i2++;\n      }\n  \n      p1.insertBefore(n2, p1.children[i1]);\n      p2.insertBefore(n1, p2.children[i2]);\n    }\n  \n    var multiDragElements = [],\n        multiDragClones = [],\n        lastMultiDragSelect,\n        // for selection with modifier key down (SHIFT)\n    multiDragSortable,\n        initialFolding = false,\n        // Initial multi-drag fold when drag started\n    folding = false,\n        // Folding any other time\n    dragStarted = false,\n        dragEl$1,\n        clonesFromRect,\n        clonesHidden;\n  \n    function MultiDragPlugin() {\n      function MultiDrag(sortable) {\n        // Bind all private methods\n        for (var fn in this) {\n          if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n            this[fn] = this[fn].bind(this);\n          }\n        }\n  \n        if (sortable.options.supportPointer) {\n          on(document, 'pointerup', this._deselectMultiDrag);\n        } else {\n          on(document, 'mouseup', this._deselectMultiDrag);\n          on(document, 'touchend', this._deselectMultiDrag);\n        }\n  \n        on(document, 'keydown', this._checkKeyDown);\n        on(document, 'keyup', this._checkKeyUp);\n        this.defaults = {\n          selectedClass: 'sortable-selected',\n          multiDragKey: null,\n          setData: function setData(dataTransfer, dragEl) {\n            var data = '';\n  \n            if (multiDragElements.length && multiDragSortable === sortable) {\n              multiDragElements.forEach(function (multiDragElement, i) {\n                data += (!i ? '' : ', ') + multiDragElement.textContent;\n              });\n            } else {\n              data = dragEl.textContent;\n            }\n  \n            dataTransfer.setData('Text', data);\n          }\n        };\n      }\n  \n      MultiDrag.prototype = {\n        multiDragKeyDown: false,\n        isMultiDrag: false,\n        delayStartGlobal: function delayStartGlobal(_ref) {\n          var dragged = _ref.dragEl;\n          dragEl$1 = dragged;\n        },\n        delayEnded: function delayEnded() {\n          this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n        },\n        setupClone: function setupClone(_ref2) {\n          var sortable = _ref2.sortable,\n              cancel = _ref2.cancel;\n          if (!this.isMultiDrag) return;\n  \n          for (var i = 0; i < multiDragElements.length; i++) {\n            multiDragClones.push(clone(multiDragElements[i]));\n            multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n            multiDragClones[i].draggable = false;\n            multiDragClones[i].style['will-change'] = '';\n            toggleClass(multiDragClones[i], this.options.selectedClass, false);\n            multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n          }\n  \n          sortable._hideClone();\n  \n          cancel();\n        },\n        clone: function clone(_ref3) {\n          var sortable = _ref3.sortable,\n              rootEl = _ref3.rootEl,\n              dispatchSortableEvent = _ref3.dispatchSortableEvent,\n              cancel = _ref3.cancel;\n          if (!this.isMultiDrag) return;\n  \n          if (!this.options.removeCloneOnHide) {\n            if (multiDragElements.length && multiDragSortable === sortable) {\n              insertMultiDragClones(true, rootEl);\n              dispatchSortableEvent('clone');\n              cancel();\n            }\n          }\n        },\n        showClone: function showClone(_ref4) {\n          var cloneNowShown = _ref4.cloneNowShown,\n              rootEl = _ref4.rootEl,\n              cancel = _ref4.cancel;\n          if (!this.isMultiDrag) return;\n          insertMultiDragClones(false, rootEl);\n          multiDragClones.forEach(function (clone) {\n            css(clone, 'display', '');\n          });\n          cloneNowShown();\n          clonesHidden = false;\n          cancel();\n        },\n        hideClone: function hideClone(_ref5) {\n          var _this = this;\n  \n          var sortable = _ref5.sortable,\n              cloneNowHidden = _ref5.cloneNowHidden,\n              cancel = _ref5.cancel;\n          if (!this.isMultiDrag) return;\n          multiDragClones.forEach(function (clone) {\n            css(clone, 'display', 'none');\n  \n            if (_this.options.removeCloneOnHide && clone.parentNode) {\n              clone.parentNode.removeChild(clone);\n            }\n          });\n          cloneNowHidden();\n          clonesHidden = true;\n          cancel();\n        },\n        dragStartGlobal: function dragStartGlobal(_ref6) {\n          var sortable = _ref6.sortable;\n  \n          if (!this.isMultiDrag && multiDragSortable) {\n            multiDragSortable.multiDrag._deselectMultiDrag();\n          }\n  \n          multiDragElements.forEach(function (multiDragElement) {\n            multiDragElement.sortableIndex = index(multiDragElement);\n          }); // Sort multi-drag elements\n  \n          multiDragElements = multiDragElements.sort(function (a, b) {\n            return a.sortableIndex - b.sortableIndex;\n          });\n          dragStarted = true;\n        },\n        dragStarted: function dragStarted(_ref7) {\n          var _this2 = this;\n  \n          var sortable = _ref7.sortable;\n          if (!this.isMultiDrag) return;\n  \n          if (this.options.sort) {\n            // Capture rects,\n            // hide multi drag elements (by positioning them absolute),\n            // set multi drag elements rects to dragRect,\n            // show multi drag elements,\n            // animate to rects,\n            // unset rects & remove from DOM\n            sortable.captureAnimationState();\n  \n            if (this.options.animation) {\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement === dragEl$1) return;\n                css(multiDragElement, 'position', 'absolute');\n              });\n              var dragRect = getRect(dragEl$1, false, true, true);\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement === dragEl$1) return;\n                setRect(multiDragElement, dragRect);\n              });\n              folding = true;\n              initialFolding = true;\n            }\n          }\n  \n          sortable.animateAll(function () {\n            folding = false;\n            initialFolding = false;\n  \n            if (_this2.options.animation) {\n              multiDragElements.forEach(function (multiDragElement) {\n                unsetRect(multiDragElement);\n              });\n            } // Remove all auxiliary multidrag items from el, if sorting enabled\n  \n  \n            if (_this2.options.sort) {\n              removeMultiDragElements();\n            }\n          });\n        },\n        dragOver: function dragOver(_ref8) {\n          var target = _ref8.target,\n              completed = _ref8.completed,\n              cancel = _ref8.cancel;\n  \n          if (folding && ~multiDragElements.indexOf(target)) {\n            completed(false);\n            cancel();\n          }\n        },\n        revert: function revert(_ref9) {\n          var fromSortable = _ref9.fromSortable,\n              rootEl = _ref9.rootEl,\n              sortable = _ref9.sortable,\n              dragRect = _ref9.dragRect;\n  \n          if (multiDragElements.length > 1) {\n            // Setup unfold animation\n            multiDragElements.forEach(function (multiDragElement) {\n              sortable.addAnimationState({\n                target: multiDragElement,\n                rect: folding ? getRect(multiDragElement) : dragRect\n              });\n              unsetRect(multiDragElement);\n              multiDragElement.fromRect = dragRect;\n              fromSortable.removeAnimationState(multiDragElement);\n            });\n            folding = false;\n            insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n          }\n        },\n        dragOverCompleted: function dragOverCompleted(_ref10) {\n          var sortable = _ref10.sortable,\n              isOwner = _ref10.isOwner,\n              insertion = _ref10.insertion,\n              activeSortable = _ref10.activeSortable,\n              parentEl = _ref10.parentEl,\n              putSortable = _ref10.putSortable;\n          var options = this.options;\n  \n          if (insertion) {\n            // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n            if (isOwner) {\n              activeSortable._hideClone();\n            }\n  \n            initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n  \n            if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n              // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n              var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement === dragEl$1) return;\n                setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n                // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n  \n                parentEl.appendChild(multiDragElement);\n              });\n              folding = true;\n            } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n  \n  \n            if (!isOwner) {\n              // Only remove if not folding (folding will remove them anyways)\n              if (!folding) {\n                removeMultiDragElements();\n              }\n  \n              if (multiDragElements.length > 1) {\n                var clonesHiddenBefore = clonesHidden;\n  \n                activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n  \n  \n                if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n                  multiDragClones.forEach(function (clone) {\n                    activeSortable.addAnimationState({\n                      target: clone,\n                      rect: clonesFromRect\n                    });\n                    clone.fromRect = clonesFromRect;\n                    clone.thisAnimationDuration = null;\n                  });\n                }\n              } else {\n                activeSortable._showClone(sortable);\n              }\n            }\n          }\n        },\n        dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n          var dragRect = _ref11.dragRect,\n              isOwner = _ref11.isOwner,\n              activeSortable = _ref11.activeSortable;\n          multiDragElements.forEach(function (multiDragElement) {\n            multiDragElement.thisAnimationDuration = null;\n          });\n  \n          if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n            clonesFromRect = _extends({}, dragRect);\n            var dragMatrix = matrix(dragEl$1, true);\n            clonesFromRect.top -= dragMatrix.f;\n            clonesFromRect.left -= dragMatrix.e;\n          }\n        },\n        dragOverAnimationComplete: function dragOverAnimationComplete() {\n          if (folding) {\n            folding = false;\n            removeMultiDragElements();\n          }\n        },\n        drop: function drop(_ref12) {\n          var evt = _ref12.originalEvent,\n              rootEl = _ref12.rootEl,\n              parentEl = _ref12.parentEl,\n              sortable = _ref12.sortable,\n              dispatchSortableEvent = _ref12.dispatchSortableEvent,\n              oldIndex = _ref12.oldIndex,\n              putSortable = _ref12.putSortable;\n          var toSortable = putSortable || this.sortable;\n          if (!evt) return;\n          var options = this.options,\n              children = parentEl.children; // Multi-drag selection\n  \n          if (!dragStarted) {\n            if (options.multiDragKey && !this.multiDragKeyDown) {\n              this._deselectMultiDrag();\n            }\n  \n            toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n  \n            if (!~multiDragElements.indexOf(dragEl$1)) {\n              multiDragElements.push(dragEl$1);\n              dispatchEvent({\n                sortable: sortable,\n                rootEl: rootEl,\n                name: 'select',\n                targetEl: dragEl$1,\n                originalEvt: evt\n              }); // Modifier activated, select from last to dragEl\n  \n              if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n                var lastIndex = index(lastMultiDragSelect),\n                    currentIndex = index(dragEl$1);\n  \n                if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n                  // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n                  // (but previous selection existed)\n                  var n, i;\n  \n                  if (currentIndex > lastIndex) {\n                    i = lastIndex;\n                    n = currentIndex;\n                  } else {\n                    i = currentIndex;\n                    n = lastIndex + 1;\n                  }\n  \n                  for (; i < n; i++) {\n                    if (~multiDragElements.indexOf(children[i])) continue;\n                    toggleClass(children[i], options.selectedClass, true);\n                    multiDragElements.push(children[i]);\n                    dispatchEvent({\n                      sortable: sortable,\n                      rootEl: rootEl,\n                      name: 'select',\n                      targetEl: children[i],\n                      originalEvt: evt\n                    });\n                  }\n                }\n              } else {\n                lastMultiDragSelect = dragEl$1;\n              }\n  \n              multiDragSortable = toSortable;\n            } else {\n              multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n              lastMultiDragSelect = null;\n              dispatchEvent({\n                sortable: sortable,\n                rootEl: rootEl,\n                name: 'deselect',\n                targetEl: dragEl$1,\n                originalEvt: evt\n              });\n            }\n          } // Multi-drag drop\n  \n  \n          if (dragStarted && this.isMultiDrag) {\n            // Do not \"unfold\" after around dragEl if reverted\n            if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n              var dragRect = getRect(dragEl$1),\n                  multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n              if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n              toSortable.captureAnimationState();\n  \n              if (!initialFolding) {\n                if (options.animation) {\n                  dragEl$1.fromRect = dragRect;\n                  multiDragElements.forEach(function (multiDragElement) {\n                    multiDragElement.thisAnimationDuration = null;\n  \n                    if (multiDragElement !== dragEl$1) {\n                      var rect = folding ? getRect(multiDragElement) : dragRect;\n                      multiDragElement.fromRect = rect; // Prepare unfold animation\n  \n                      toSortable.addAnimationState({\n                        target: multiDragElement,\n                        rect: rect\n                      });\n                    }\n                  });\n                } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n                // properly they must all be removed\n  \n  \n                removeMultiDragElements();\n                multiDragElements.forEach(function (multiDragElement) {\n                  if (children[multiDragIndex]) {\n                    parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n                  } else {\n                    parentEl.appendChild(multiDragElement);\n                  }\n  \n                  multiDragIndex++;\n                }); // If initial folding is done, the elements may have changed position because they are now\n                // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n                // must be fired here as Sortable will not.\n  \n                if (oldIndex === index(dragEl$1)) {\n                  var update = false;\n                  multiDragElements.forEach(function (multiDragElement) {\n                    if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                      update = true;\n                      return;\n                    }\n                  });\n  \n                  if (update) {\n                    dispatchSortableEvent('update');\n                  }\n                }\n              } // Must be done after capturing individual rects (scroll bar)\n  \n  \n              multiDragElements.forEach(function (multiDragElement) {\n                unsetRect(multiDragElement);\n              });\n              toSortable.animateAll();\n            }\n  \n            multiDragSortable = toSortable;\n          } // Remove clones if necessary\n  \n  \n          if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n            multiDragClones.forEach(function (clone) {\n              clone.parentNode && clone.parentNode.removeChild(clone);\n            });\n          }\n        },\n        nullingGlobal: function nullingGlobal() {\n          this.isMultiDrag = dragStarted = false;\n          multiDragClones.length = 0;\n        },\n        destroyGlobal: function destroyGlobal() {\n          this._deselectMultiDrag();\n  \n          off(document, 'pointerup', this._deselectMultiDrag);\n          off(document, 'mouseup', this._deselectMultiDrag);\n          off(document, 'touchend', this._deselectMultiDrag);\n          off(document, 'keydown', this._checkKeyDown);\n          off(document, 'keyup', this._checkKeyUp);\n        },\n        _deselectMultiDrag: function _deselectMultiDrag(evt) {\n          if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n  \n          if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n  \n          if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n  \n          if (evt && evt.button !== 0) return;\n  \n          while (multiDragElements.length) {\n            var el = multiDragElements[0];\n            toggleClass(el, this.options.selectedClass, false);\n            multiDragElements.shift();\n            dispatchEvent({\n              sortable: this.sortable,\n              rootEl: this.sortable.el,\n              name: 'deselect',\n              targetEl: el,\n              originalEvt: evt\n            });\n          }\n        },\n        _checkKeyDown: function _checkKeyDown(evt) {\n          if (evt.key === this.options.multiDragKey) {\n            this.multiDragKeyDown = true;\n          }\n        },\n        _checkKeyUp: function _checkKeyUp(evt) {\n          if (evt.key === this.options.multiDragKey) {\n            this.multiDragKeyDown = false;\n          }\n        }\n      };\n      return _extends(MultiDrag, {\n        // Static methods & properties\n        pluginName: 'multiDrag',\n        utils: {\n          /**\n           * Selects the provided multi-drag item\n           * @param  {HTMLElement} el    The element to be selected\n           */\n          select: function select(el) {\n            var sortable = el.parentNode[expando];\n            if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n  \n            if (multiDragSortable && multiDragSortable !== sortable) {\n              multiDragSortable.multiDrag._deselectMultiDrag();\n  \n              multiDragSortable = sortable;\n            }\n  \n            toggleClass(el, sortable.options.selectedClass, true);\n            multiDragElements.push(el);\n          },\n  \n          /**\n           * Deselects the provided multi-drag item\n           * @param  {HTMLElement} el    The element to be deselected\n           */\n          deselect: function deselect(el) {\n            var sortable = el.parentNode[expando],\n                index = multiDragElements.indexOf(el);\n            if (!sortable || !sortable.options.multiDrag || !~index) return;\n            toggleClass(el, sortable.options.selectedClass, false);\n            multiDragElements.splice(index, 1);\n          }\n        },\n        eventProperties: function eventProperties() {\n          var _this3 = this;\n  \n          var oldIndicies = [],\n              newIndicies = [];\n          multiDragElements.forEach(function (multiDragElement) {\n            oldIndicies.push({\n              multiDragElement: multiDragElement,\n              index: multiDragElement.sortableIndex\n            }); // multiDragElements will already be sorted if folding\n  \n            var newIndex;\n  \n            if (folding && multiDragElement !== dragEl$1) {\n              newIndex = -1;\n            } else if (folding) {\n              newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n            } else {\n              newIndex = index(multiDragElement);\n            }\n  \n            newIndicies.push({\n              multiDragElement: multiDragElement,\n              index: newIndex\n            });\n          });\n          return {\n            items: _toConsumableArray(multiDragElements),\n            clones: [].concat(multiDragClones),\n            oldIndicies: oldIndicies,\n            newIndicies: newIndicies\n          };\n        },\n        optionListeners: {\n          multiDragKey: function multiDragKey(key) {\n            key = key.toLowerCase();\n  \n            if (key === 'ctrl') {\n              key = 'Control';\n            } else if (key.length > 1) {\n              key = key.charAt(0).toUpperCase() + key.substr(1);\n            }\n  \n            return key;\n          }\n        }\n      });\n    }\n  \n    function insertMultiDragElements(clonesInserted, rootEl) {\n      multiDragElements.forEach(function (multiDragElement, i) {\n        var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n  \n        if (target) {\n          rootEl.insertBefore(multiDragElement, target);\n        } else {\n          rootEl.appendChild(multiDragElement);\n        }\n      });\n    }\n    /**\n     * Insert multi-drag clones\n     * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n     * @param  {HTMLElement} rootEl\n     */\n  \n  \n    function insertMultiDragClones(elementsInserted, rootEl) {\n      multiDragClones.forEach(function (clone, i) {\n        var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n  \n        if (target) {\n          rootEl.insertBefore(clone, target);\n        } else {\n          rootEl.appendChild(clone);\n        }\n      });\n    }\n  \n    function removeMultiDragElements() {\n      multiDragElements.forEach(function (multiDragElement) {\n        if (multiDragElement === dragEl$1) return;\n        multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n      });\n    }\n  \n    Sortable.mount(new AutoScrollPlugin());\n    Sortable.mount(Remove, Revert);\n  \n    Sortable.mount(new SwapPlugin());\n    Sortable.mount(new MultiDragPlugin());\n  \n    return Sortable;\n  \n  }();","export default DomEl;\n\nclass DomEl { \n    constructor(creationString) {\n        this.elType = creationString.match(/^(\\w+)*/g);\n        this.classes = creationString.match(/\\.([^\\s\\.\\#\\[]*)/g);\n        this.id = creationString.match(/\\#([^\\s\\.\\[]*)/g);\n        this.attributes = creationString.match(/\\[([^\\]]*)/g);\n        if (this.elType) {\n            this.el = document.createElement(this.elType);\n            if (this.classes && this.classes.length > 0) {\n                for (var className of this.classes) {\n                    this.el.classList.add(className.replace('.',''));\n                }\n            }\n            if (this.attributes && this.attributes.length > 0) {\n                for (var attributeString of this.attributes) {\n                    let attribute = attributeString.split('=');\n                    if (attribute.length == 1) {\n                        attribute.push('');\n                    } else {\n                        attribute[1] = attribute[1].replace(/\"/g,'');\n                    }\n                    attribute[0] = attribute[0].replace('[','');\n                    if (['title','href'].indexOf(attribute[0]) > -1) {\n                        this.el[attribute[0]] = attribute[1];\n                    }\n                    this.el.setAttribute(attribute[0],attribute[1]);\n                }\n            }\n            if (this.id && this.id.length == 1) {\n                this.el.id = this.id.replace('#','');\n            }\n            return this.el;\n        }   \n    }\n}","export default Hat;\nimport Sortable from '/../lib/_Sortable.js';\nimport DomEl from '/../lib/_DomEl.js';\n\nvar Hat = function(containerEl) {\n    let Blocks = [];\n    let BlockCount = 0;\n    let Elements = {\n        blockHolder: false,\n        container: false\n    };\n    let Events = {\n        fire: function(eventName, element=Elements.blockHolder) {\n            element.dispatchEvent(new Event(eventName));\n        }\n    };\n    let Internal = {\n        blockCount: 0,\n        insertAddBlockButton: function() {\n            var a = new DomEl('a.block[title=\"Add a new block (and select it)][href=\"javascript:void(0)\"]');\n            var icon = new DomEl('i.fas.fa-plus-square');\n            a.innerHTML = icon.outerHTML + ' Add block';\n            a.addEventListener('click', function() {\n                //TODO: Show block list\n                Interface.addBlock();\n            });\n            Elements.container.append(a);\n        },\n        initialize: function(containerEl) {\n            Elements.container = containerEl;\n            Elements.blockHolder = document.createElement('div');\n            Elements.container.append(Elements.blockHolder);\n            Internal.insertAddBlockButton();\n            Interface.addBlock();\n            Internal.manageSorting();\n        },\n        manageSorting: function() {\n            Internal.sorting = Sortable.create(Elements.blockHolder, { animation: 150, group: 'blocks', handle: 'button.handle', draggable: '.block', onEnd: function() { Events.fire('blockChanged')} });\n            Elements.blockHolder.addEventListener('blockChanged',function() {\n                if (BlockCount == 1) {\n                    Internal.sorting.option('sorting', false);\n                } else {\n                    Internal.sorting.option('sorting', true);\n                }\n            });\n        } \n    }\n    let Interface = {\n        addBlock: function(focus=true,position=false, type='paragraph') {\n            let blockClass = window.HatRack.get_block(type);\n            let block = new blockClass(this);\n            block.el.id = 'block' + new Date().getTime();\n            if (position === false) {\n                Elements.blockHolder.appendChild(block.el);\n            } else {\n                Elements.blockHolder.children[position].after(block.el);\n            }\n            if (focus) {\n                block.contentEl.focus();\n            }\n            Blocks[block.el.id] = block;\n            BlockCount++;\n            Events.fire('blockChanged');\n        },\n        fireEvent: function(eventName, element=Elements.blockHolder) {\n            Events.fire(eventName, element);\n        },\n        getBlockContainer: function() {\n            return Elements.blockHolder;\n        },\n        getBlockPosition: function(blockEl) {\n            let blocks = Elements.blockHolder.querySelectorAll('.block');\n            let position = { count: BlockCount };\n            if (position.count == 1) {\n                position.first = true;\n                position.last = true;\n            } else {\n                position.first = (blocks[0] == blockEl);\n                position.last = (blocks[BlockCount-1] == blockEl);\n            }\n            return position;\n        },\n        removeBlock: function(block) {\n            var blockId = block.el.id;\n            if (BlockCount > 1){\n                if (Blocks.hasOwnProperty(blockId)) {\n                    Blocks[block.el.previousSibling.id].contentEl.focus();\n                    block.el.remove();\n                    Blocks.splice(blockId);\n                    BlockCount--;\n                    Events.fire('blockChanged');\n                }\n            }\n        },\n        getContainer: function() {\n            return Elements.container;\n        }\n    };\n    Internal.initialize(containerEl);\n    return Interface;\n};","export default Block;\n\nimport DomEl from '/../lib/_DomEl.js';\n\nclass Block {\n    constructor(hat) {\n        this.setup();\n        this.editor = hat;\n        this.createElement();\n        this.registerKeyboardShortcuts();\n        this.registerSettings();\n        this.blockRegistration();\n        this.addGlobalEvents();\n        this.addEvents();\n    }\n\n    addBlockControls() {\n        this.upButton = new DomEl('button[aria-label=\"Move block up one position\"]');\n        let upArrow = new DomEl('i.fas.fa-chevron-up')\n        this.upButton.append(upArrow);\n        this.moveButton = new DomEl('button[aria-label=\"Click and drag to move block\"].handle');\n        let gripIcon = new DomEl('i.fas.fa-grip-horizontal');\n        this.moveButton.append(gripIcon); \n        this.downButton = new DomEl('button[aria-label=\"Move block down one position]');\n        let downArrow = new DomEl('i.fas.fa-chevron-down');\n        this.downButton.append(downArrow);\n        this.blockControlsContainer.append(this.upButton);\n        this.blockControlsContainer.append(this.moveButton);\n        this.blockControlsContainer.append(this.downButton);\n    }\n    \n    addGlobalEvents() {\n        var block = this;\n        this.el.addEventListener('keydown', function(e) {\n            block.keysDown.push(e.which);\n            block.checkKeyboardShortcuts();\n        });\n        this.el.addEventListener('keyup', function(e) {\n            block.keysDown.splice(block.keysDown.indexOf(e.which));\n        });\n        let blockContainer = this.editor.getBlockContainer();\n        blockContainer.addEventListener('blockChanged', function() {\n            block.checkBlockSettingsControls();\n        });\n        this.upButton.addEventListener('click', function() {\n            var target = block.el.previousSibling;\n            block.el.classList.add('moving-up');\n            target.classList.add('moving-down');\n            setTimeout(function() {\n                block.el.classList.remove('moving-up');\n                target.classList.remove('moving-down');\n                block.editor.getBlockContainer().insertBefore(block.el, block.el.previousSibling);\n                block.editor.fireEvent('blockChanged');\n            }, 200);\n        });\n        this.downButton.addEventListener('click', function() {\n            var target = block.el.nextSibling;\n            block.el.classList.add('moving-down');\n            target.classList.add('moving-up');\n            setTimeout(function() {\n                block.el.classList.remove('moving-down');\n                target.classList.remove('moving-up');\n                block.editor.getBlockContainer().insertBefore(block.el, block.el.nextSibling.nextSibling);\n                block.editor.fireEvent('blockChanged');\n            }, 200);\n        });\n    }\n\n    addEvents() {}\n\n    addInfoButton() {\n        var infoButton = new DomEl('button.settings[aria-role=\"tab\"][title=\"Open block settings dialog\"][aria-selected=\"false\"][tabindex=\"-1\"][aria-controls=\"settings-info\"]');\n        var iconEl = new DomEl('i.fas.fa-info');\n        infoButton.append(iconEl);\n        this.settingsContainer.append(infoButton);\n    }\n\n    blockRegistration() {}\n\n    checkBlockSettingsControls() {\n        let position = this.editor.getBlockPosition(this.el);\n        let up = this.upButton;\n        let down = this.downButton;\n        let grip = this.moveButton;\n        if (position.first) {\n            up.setAttribute('disabled','');\n        } else {\n            up.removeAttribute('disabled');\n        }\n        if (position.last) {\n            down.setAttribute('disabled','');\n        } else {\n            down.removeAttribute('disabled')\n        }\n        if (position.count == 1) {\n            grip.setAttribute('disabled','');\n        } else {\n            grip.removeAttribute('disabled');\n        }\n    }\n\n    checkKeyboardShortcuts() {\n        if (this.keysDown.length > 1) {\n            let keys = this.keysDown.sort(function(a,b) { return ((a < b)) ? -1 : 1; });\n            if (this.keyboardShortcuts.hasOwnProperty(keys[0])) {\n                let primaryKey = this.keyboardShortcuts[keys.shift()];\n                if (primaryKey.hasOwnProperty(keys)) {\n                    this.keyboardShortcutActions[primaryKey[keys]]();\n                }\n            }\n        }\n    }\n\n    createElement() {}\n\n    delete() {\n        this.editor.removeBlock(this);\n    }\n\n    getElement() {\n        return this.el;\n    }\n\n    getContent() {\n        return this.contentEl.innerHtml();\n    }\n\n    registerGlobalKeyboardShortcuts() {\n        var element = this;\n        this.keyboardShortcutActions['deleteBlock'] = function() {\n            element.delete();\n        };\n        this.registerKeyboardShortcut([91,8],'deleteBlock');\n        this.registerKeyboardShortcut([93,8],'deleteBlock');\n    }\n\n    registerKeyboardShortcut(keys, actionToCall) {\n        keys = keys.sort(function(a,b) { return ((a < b)) ? -1 : 1; });\n        if (!this.keyboardShortcuts.hasOwnProperty(keys[0])) { \n            this.keyboardShortcuts[keys[0]] = [];\n        }\n        let primaryKey = this.keyboardShortcuts[keys.shift()];\n        if (primaryKey.hasOwnProperty(keys)) {\n            return false\n        } else {\n            primaryKey[keys] = actionToCall;\n        }\n    }\n\n    registerKeyboardShortcuts() {}\n\n    registerSettings() {}\n\n    setup() {\n        this.keysDown = [];\n        this.keyboardShortcuts = [];\n        this.keyboardShortcutActions = {};\n        this.registerGlobalKeyboardShortcuts();\n        this.el = new DomEl('div.block')\n        this.blockControlsContainer = new DomEl('div[aria-label=\"Block Controls\"]');\n        this.contentContainer = new DomEl('div');\n        this.settingsContainer = new DomEl('div[aria-role=\"tablist\"][aria-label=\"Block settings]');\n        this.el.append(this.blockControlsContainer);\n        this.el.append(this.contentContainer);\n        this.el.append(this.settingsContainer);\n        this.addBlockControls();\n    }\n}","export default ParagraphBlock;\n\nimport Block from '_block.js';\nimport DomEl from '/../lib/_DomEl.js';\n\nclass ParagraphBlock extends Block {\n    createElement() {\n        this.el.classList.add('paragraph');\n        this.contentEl = new DomEl('div[contentEditable=true]');\n        this.contentContainer.appendChild(this.contentEl);\n    }\n}","import Hat from 'modules/_hat.js';\nimport ParagraphBlock from 'modules/_block_paragraph.js';\n\nwindow.HatRack = function() {\n    let BlockRegistry = {\n        default: false,\n        names: ['paragraph'],\n        objects: {\n            paragraph: ParagraphBlock\n        }\n    };\n    let Interface = {   \n        get_block: function(blockName) {\n            if (Interface.has_block(blockName)) {\n                return BlockRegistry.objects[blockName];\n            }\n        },\n        get_blocks: function() {\n            return BlockRegistry.objects;\n        },\n        has_block: function(blockName) {\n            return (BlockRegistry.names.indexOf(blockName) > -1);\n        },\n        register_block: function(name, slug, blockObj) {\n            BlockRegistry.names.push(slug);\n            BlockRegistry.objects[slug] = blockObj;\n        },\n        start: function(querySelector='.hat-editor') {\n            for (var el of document.querySelectorAll(querySelector)) {\n                new Hat(el);\n            }\n        }\n    }\n    return Interface;\n}();"],"names":["Sortable","_typeof","obj","Symbol","_typeof2","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","hasOwnProperty","call","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","arr2","iter","toString","from","TypeError","version","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","event","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","_","getParentOrHost","host","document","nodeType","parentNode","closest","ctx","includeCTX","R_SPACE","toggleClass","name","state","classList","className","replace","css","prop","val","style","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","find","tagName","list","getElementsByTagName","n","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","height","width","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","a","scaleY","d","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","visible","getChild","childNum","options","currentChild","children","display","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","index","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","indexOfObject","Number","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","extend","dst","src","isRectEqual","rect1","rect2","Math","round","_throttleTimeout","throttle","callback","ms","args","_this","setTimeout","cancelThrottle","clearTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","expando","Date","getTime","AnimationStateManager","animationStates","animationCallbackId","captureAnimationState","animation","slice","child","push","fromRect","thisAnimationDuration","childMatrix","f","e","addAnimationState","removeAnimationState","splice","animateAll","animating","animationTime","time","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animate","max","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","repaint","easing","animated","offsetWidth","sqrt","pow","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","option","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","pluginName","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","bubbles","cancelable","createEvent","initEvent","to","item","pullMode","lastPutMode","undefined","allEventProperties","data","bind","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","awaitingDragStarted","ignoreNextClick","sortables","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","split","touchingSideChild2","clear","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","ret","some","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","sort","disabled","store","handle","test","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","get","contains","_getDirection","type","touch","pointerType","originalTarget","shadowRoot","path","composedPath","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","ownerDocument","dragStartFn","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDraggable","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","_nextTick","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dx","dy","b","c","cssMatrix","appendChild","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","isOwner","canSort","fromSortable","completedFired","dragOverEvent","extra","axis","completed","onMove","after","_onMove","changed","insertion","_showClone","_ignoreWhileAnimating","elLastChild","_ghostIsLast","targetBeforeFirstSwap","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","_getSwapDirection","sibling","dragIndex","nextElementSibling","moveVector","_unsilent","_offMoveEvents","_offUpEvents","clearInterval","_cancelNextTick","removeChild","save","checked","handleEvent","_globalDragOver","toArray","order","getAttribute","_generateId","items","id","set","closest$1","destroy","querySelectorAll","removeAttribute","dropEffect","willInsertAfter","onMoveFn","retVal","draggedRect","related","relatedRect","spacer","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","str","href","sum","charCodeAt","root","inputs","idx","utils","is","nextTick","cancelNextTick","detectDirection","element","_len","_key","create","autoScrolls","scrollEl","scrollRootEl","scrolling","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","AutoScrollPlugin","AutoScroll","scroll","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","isFallback","sens","speed","scrollThisInstance","scrollCustomFn","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","changedTouches","onSpill","Revert","startIndex","dragStart","_ref3","Remove","_ref4","parentSortable","lastSwapEl","SwapPlugin","Swap","swapClass","dragOverValid","swap","prevSwapEl","swapNodes","swapItem","n1","n2","p1","p2","i1","i2","isEqualNode","multiDragElements","multiDragClones","lastMultiDragSelect","multiDragSortable","initialFolding","folding","dragEl$1","clonesFromRect","clonesHidden","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","removeMultiDragElements","dragOver","_ref8","_ref9","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","_this3","oldIndicies","newIndicies","clones","toLowerCase","clonesInserted","elementsInserted","DomEl","creationString","elType","classes","attributes","add","attributeString","attribute","setAttribute","Hat","containerEl","Blocks","BlockCount","Elements","blockHolder","Events","fire","Event","Internal","blockCount","insertAddBlockButton","icon","innerHTML","outerHTML","Interface","addBlock","append","initialize","manageSorting","sorting","onEnd","focus","position","blockClass","HatRack","get_block","block","contentEl","fireEvent","getBlockContainer","getBlockPosition","blockEl","blocks","count","first","removeBlock","blockId","previousSibling","remove","getContainer","Block","hat","setup","editor","registerKeyboardShortcuts","registerSettings","blockRegistration","addGlobalEvents","addEvents","upButton","upArrow","moveButton","gripIcon","downButton","downArrow","blockControlsContainer","keysDown","which","checkKeyboardShortcuts","blockContainer","checkBlockSettingsControls","infoButton","iconEl","settingsContainer","up","down","grip","keyboardShortcuts","primaryKey","keyboardShortcutActions","innerHtml","delete","registerKeyboardShortcut","actionToCall","registerGlobalKeyboardShortcuts","contentContainer","addBlockControls","ParagraphBlock","BlockRegistry","default","names","objects","paragraph","blockName","has_block","get_blocks","register_block","slug","blockObj","start","querySelector"],"mappings":"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"}